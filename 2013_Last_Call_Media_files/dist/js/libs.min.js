!function(e){"use strict";function t(e){return(e||"").toLowerCase()}var o="2.1.6";e.fn.cycle=function(o){var i;return 0!==this.length||e.isReady?this.each(function(){var i,n,s,r,l=e(this),a=e.fn.cycle.log;if(!l.data("cycle.opts")){(l.data("cycle-log")===!1||o&&o.log===!1||n&&n.log===!1)&&(a=e.noop),a("--c2 init--"),i=l.data();for(var c in i)i.hasOwnProperty(c)&&/^cycle[A-Z]+/.test(c)&&(r=i[c],s=c.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),a(s+":",r,"("+typeof r+")"),i[s]=r);n=e.extend({},e.fn.cycle.defaults,i,o||{}),n.timeoutId=0,n.paused=n.paused||!1,n.container=l,n._maxZ=n.maxZ,n.API=e.extend({_container:l},e.fn.cycle.API),n.API.log=a,n.API.trigger=function(e,t){return n.container.trigger(e,t),n.API},l.data("cycle.opts",n),l.data("cycle.API",n.API),n.API.trigger("cycle-bootstrap",[n,n.API]),n.API.addInitialSlides(),n.API.preInitSlideshow(),n.slides.length&&n.API.initSlideshow()}}):(i={s:this.selector,c:this.context},e.fn.cycle.log("requeuing slideshow (dom not ready)"),e(function(){e(i.s,i.c).cycle(o)}),this)},e.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var t=this.opts(),o=t.slides;t.slideCount=0,t.slides=e(),o=o.jquery?o:t.container.find(o),t.random&&o.sort(function(){return Math.random()-.5}),t.API.add(o)},preInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-pre-initialize",[t]);var o=e.fn.cycle.transitions[t.fx];o&&e.isFunction(o.preInit)&&o.preInit(t),t._preInitialized=!0},postInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-post-initialize",[t]);var o=e.fn.cycle.transitions[t.fx];o&&e.isFunction(o.postInit)&&o.postInit(t)},initSlideshow:function(){var t,o=this.opts(),i=o.container;o.API.calcFirstSlide(),"static"==o.container.css("position")&&o.container.css("position","relative"),e(o.slides[o.currSlide]).css({opacity:1,display:"block",visibility:"visible"}),o.API.stackSlides(o.slides[o.currSlide],o.slides[o.nextSlide],!o.reverse),o.pauseOnHover&&(o.pauseOnHover!==!0&&(i=e(o.pauseOnHover)),i.hover(function(){o.API.pause(!0)},function(){o.API.resume(!0)})),o.timeout&&(t=o.API.getSlideOpts(o.currSlide),o.API.queueTransition(t,t.timeout+o.delay)),o._initialized=!0,o.API.updateView(!0),o.API.trigger("cycle-initialized",[o]),o.API.postInitSlideshow()},pause:function(t){var o=this.opts(),i=o.API.getSlideOpts(),n=o.hoverPaused||o.paused;t?o.hoverPaused=!0:o.paused=!0,n||(o.container.addClass("cycle-paused"),o.API.trigger("cycle-paused",[o]).log("cycle-paused"),i.timeout&&(clearTimeout(o.timeoutId),o.timeoutId=0,o._remainingTimeout-=e.now()-o._lastQueue,(o._remainingTimeout<0||isNaN(o._remainingTimeout))&&(o._remainingTimeout=void 0)))},resume:function(e){var t=this.opts(),o=!t.hoverPaused&&!t.paused;e?t.hoverPaused=!1:t.paused=!1,o||(t.container.removeClass("cycle-paused"),0===t.slides.filter(":animated").length&&t.API.queueTransition(t.API.getSlideOpts(),t._remainingTimeout),t.API.trigger("cycle-resumed",[t,t._remainingTimeout]).log("cycle-resumed"))},add:function(t,o){var i,n=this.opts(),s=n.slideCount,r=!1;"string"==e.type(t)&&(t=e.trim(t)),e(t).each(function(t){var i,s=e(this);o?n.container.prepend(s):n.container.append(s),n.slideCount++,i=n.API.buildSlideOpts(s),o?n.slides=e(s).add(n.slides):n.slides=n.slides.add(s),n.API.initSlide(i,s,--n._maxZ),s.data("cycle.opts",i),n.API.trigger("cycle-slide-added",[n,i,s])}),n.API.updateView(!0),r=n._preInitialized&&s<2&&n.slideCount>=1,r&&(n._initialized?n.timeout&&(i=n.slides.length,n.nextSlide=n.reverse?i-1:1,n.timeoutId||n.API.queueTransition(n)):n.API.initSlideshow())},calcFirstSlide:function(){var e,t=this.opts();e=parseInt(t.startingSlide||0,10),(e>=t.slides.length||e<0)&&(e=0),t.currSlide=e,t.reverse?(t.nextSlide=e-1,t.nextSlide<0&&(t.nextSlide=t.slides.length-1)):(t.nextSlide=e+1,t.nextSlide==t.slides.length&&(t.nextSlide=0))},calcNextSlide:function(){var e,t=this.opts();t.reverse?(e=t.nextSlide-1<0,t.nextSlide=e?t.slideCount-1:t.nextSlide-1,t.currSlide=e?0:t.nextSlide+1):(e=t.nextSlide+1==t.slides.length,t.nextSlide=e?0:t.nextSlide+1,t.currSlide=e?t.slides.length-1:t.nextSlide-1)},calcTx:function(t,o){var i,n=t;return n._tempFx?i=e.fn.cycle.transitions[n._tempFx]:o&&n.manualFx&&(i=e.fn.cycle.transitions[n.manualFx]),i||(i=e.fn.cycle.transitions[n.fx]),n._tempFx=null,this.opts()._tempFx=null,i||(i=e.fn.cycle.transitions.fade,n.API.log('Transition "'+n.fx+'" not found.  Using fade.')),i},prepareTx:function(e,t){var o,i,n,s,r,l=this.opts();return l.slideCount<2?void(l.timeoutId=0):(!e||l.busy&&!l.manualTrump||(l.API.stopTransition(),l.busy=!1,clearTimeout(l.timeoutId),l.timeoutId=0),void(l.busy||(0!==l.timeoutId||e)&&(i=l.slides[l.currSlide],n=l.slides[l.nextSlide],s=l.API.getSlideOpts(l.nextSlide),r=l.API.calcTx(s,e),l._tx=r,e&&void 0!==s.manualSpeed&&(s.speed=s.manualSpeed),l.nextSlide!=l.currSlide&&(e||!l.paused&&!l.hoverPaused&&l.timeout)?(l.API.trigger("cycle-before",[s,i,n,t]),r.before&&r.before(s,i,n,t),o=function(){l.busy=!1,l.container.data("cycle.opts")&&(r.after&&r.after(s,i,n,t),l.API.trigger("cycle-after",[s,i,n,t]),l.API.queueTransition(s),l.API.updateView(!0))},l.busy=!0,r.transition?r.transition(s,i,n,t,o):l.API.doTransition(s,i,n,t,o),l.API.calcNextSlide(),l.API.updateView()):l.API.queueTransition(s))))},doTransition:function(t,o,i,n,s){var r=t,l=e(o),a=e(i),c=function(){a.animate(r.animIn||{opacity:1},r.speed,r.easeIn||r.easing,s)};a.css(r.cssBefore||{}),l.animate(r.animOut||{},r.speed,r.easeOut||r.easing,function(){l.css(r.cssAfter||{}),r.sync||c()}),r.sync&&c()},queueTransition:function(t,o){var i=this.opts(),n=void 0!==o?o:t.timeout;return 0===i.nextSlide&&0===--i.loop?(i.API.log("terminating; loop=0"),i.timeout=0,n?setTimeout(function(){i.API.trigger("cycle-finished",[i])},n):i.API.trigger("cycle-finished",[i]),void(i.nextSlide=i.currSlide)):void 0!==i.continueAuto&&(i.continueAuto===!1||e.isFunction(i.continueAuto)&&i.continueAuto()===!1)?(i.API.log("terminating automatic transitions"),i.timeout=0,void(i.timeoutId&&clearTimeout(i.timeoutId))):void(n&&(i._lastQueue=e.now(),void 0===o&&(i._remainingTimeout=t.timeout),i.paused||i.hoverPaused||(i.timeoutId=setTimeout(function(){i.API.prepareTx(!1,!i.reverse)},n))))},stopTransition:function(){var e=this.opts();e.slides.filter(":animated").length&&(e.slides.stop(!1,!0),e.API.trigger("cycle-transition-stopped",[e])),e._tx&&e._tx.stopTransition&&e._tx.stopTransition(e)},advanceSlide:function(e){var t=this.opts();return clearTimeout(t.timeoutId),t.timeoutId=0,t.nextSlide=t.currSlide+e,t.nextSlide<0?t.nextSlide=t.slides.length-1:t.nextSlide>=t.slides.length&&(t.nextSlide=0),t.API.prepareTx(!0,e>=0),!1},buildSlideOpts:function(o){var i,n,s=this.opts(),r=o.data()||{};for(var l in r)r.hasOwnProperty(l)&&/^cycle[A-Z]+/.test(l)&&(i=r[l],n=l.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),s.API.log("["+(s.slideCount-1)+"]",n+":",i,"("+typeof i+")"),r[n]=i);r=e.extend({},e.fn.cycle.defaults,s,r),r.slideNum=s.slideCount;try{delete r.API,delete r.slideCount,delete r.currSlide,delete r.nextSlide,delete r.slides}catch(e){}return r},getSlideOpts:function(t){var o=this.opts();void 0===t&&(t=o.currSlide);var i=o.slides[t],n=e(i).data("cycle.opts");return e.extend({},o,n)},initSlide:function(t,o,i){var n=this.opts();o.css(t.slideCss||{}),i>0&&o.css("zIndex",i),isNaN(t.speed)&&(t.speed=e.fx.speeds[t.speed]||e.fx.speeds._default),t.sync||(t.speed=t.speed/2),o.addClass(n.slideClass)},updateView:function(e,t,o){var i=this.opts();if(i._initialized){var n=i.API.getSlideOpts(),s=i.slides[i.currSlide];!e&&t!==!0&&(i.API.trigger("cycle-update-view-before",[i,n,s]),i.updateView<0)||(i.slideActiveClass&&i.slides.removeClass(i.slideActiveClass).eq(i.currSlide).addClass(i.slideActiveClass),e&&i.hideNonActive&&i.slides.filter(":not(."+i.slideActiveClass+")").css("visibility","hidden"),0===i.updateView&&setTimeout(function(){i.API.trigger("cycle-update-view",[i,n,s,e])},n.speed/(i.sync?2:1)),0!==i.updateView&&i.API.trigger("cycle-update-view",[i,n,s,e]),e&&i.API.trigger("cycle-update-view-after",[i,n,s]))}},getComponent:function(t){var o=this.opts(),i=o[t];return"string"==typeof i?/^\s*[\>|\+|~]/.test(i)?o.container.find(i):e(i):i.jquery?i:e(i)},stackSlides:function(t,o,i){var n=this.opts();t||(t=n.slides[n.currSlide],o=n.slides[n.nextSlide],i=!n.reverse),e(t).css("zIndex",n.maxZ);var s,r=n.maxZ-2,l=n.slideCount;if(i){for(s=n.currSlide+1;s<l;s++)e(n.slides[s]).css("zIndex",r--);for(s=0;s<n.currSlide;s++)e(n.slides[s]).css("zIndex",r--)}else{for(s=n.currSlide-1;s>=0;s--)e(n.slides[s]).css("zIndex",r--);for(s=l-1;s>n.currSlide;s--)e(n.slides[s]).css("zIndex",r--)}e(o).css("zIndex",n.maxZ-1)},getSlideIndex:function(e){return this.opts().slides.index(e)}},e.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},e.fn.cycle.version=function(){return"Cycle2: "+o},e.fn.cycle.transitions={custom:{},none:{before:function(e,t,o,i){e.API.stackSlides(o,t,i),e.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(t,o,i,n){var s=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(o,i,n),t.cssBefore=e.extend(s,{opacity:0,visibility:"visible",display:"block"}),t.animIn={opacity:1},t.animOut={opacity:0}}},fadeout:{before:function(t,o,i,n){var s=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(o,i,n),t.cssBefore=e.extend(s,{opacity:1,visibility:"visible",display:"block"}),t.animOut={opacity:0}}},scrollHorz:{before:function(e,t,o,i){e.API.stackSlides(t,o,i);var n=e.container.css("overflow","hidden").width();e.cssBefore={left:i?n:-n,top:0,opacity:1,visibility:"visible",display:"block"},e.cssAfter={zIndex:e._maxZ-2,left:0},e.animIn={left:0},e.animOut={left:i?-n:n}}}},e.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:0},e(document).ready(function(){e(e.fn.cycle.defaults.autoSelector).cycle()})}(jQuery),function(e){"use strict";function t(t,i){var n,s,r,l=i.autoHeight;if("container"==l)s=e(i.slides[i.currSlide]).outerHeight(),i.container.height(s);else if(i._autoHeightRatio)i.container.height(i.container.width()/i._autoHeightRatio);else if("calc"===l||"number"==e.type(l)&&l>=0){if(r="calc"===l?o(t,i):l>=i.slides.length?0:l,r==i._sentinelIndex)return;i._sentinelIndex=r,i._sentinel&&i._sentinel.remove(),n=e(i.slides[r].cloneNode(!0)),n.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),n.css({position:"static",visibility:"hidden",display:"block"}).prependTo(i.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),n.find("*").css("visibility","hidden"),i._sentinel=n}}function o(t,o){var i=0,n=-1;return o.slides.each(function(t){var o=e(this).height();o>n&&(n=o,i=t)}),i}function i(t,o,i,n,s){var r=e(n).outerHeight();o.container.animate({height:r},o.autoHeightSpeed,o.autoHeightEasing)}function n(o,s){s._autoHeightOnResize&&(e(window).off("resize orientationchange",s._autoHeightOnResize),s._autoHeightOnResize=null),s.container.off("cycle-slide-added cycle-slide-removed",t),s.container.off("cycle-destroyed",n),s.container.off("cycle-before",i),s._sentinel&&(s._sentinel.remove(),s._sentinel=null)}e.extend(e.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),e(document).on("cycle-initialized",function(o,s){function r(){t(o,s)}var l,a=s.autoHeight,c=e.type(a),d=null;"string"!==c&&"number"!==c||(s.container.on("cycle-slide-added cycle-slide-removed",t),s.container.on("cycle-destroyed",n),"container"==a?s.container.on("cycle-before",i):"string"===c&&/\d+\:\d+/.test(a)&&(l=a.match(/(\d+)\:(\d+)/),l=l[1]/l[2],s._autoHeightRatio=l),"number"!==c&&(s._autoHeightOnResize=function(){clearTimeout(d),d=setTimeout(r,50)},e(window).on("resize orientationchange",s._autoHeightOnResize)),setTimeout(r,30))})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),e(document).on("cycle-update-view",function(t,o,i,n){if("caption"===o.captionModule){e.each(["caption","overlay"],function(){var e=this,t=i[e+"Template"],s=o.API.getComponent(e);s.length&&t?(s.html(o.API.tmpl(t,i,o,n)),s.show()):s.hide()})}}),e(document).on("cycle-destroyed",function(t,o){var i;e.each(["caption","overlay"],function(){var e=this,t=o[e+"Template"];o[e]&&t&&(i=o.API.getComponent("caption"),i.empty())})})}(jQuery),function(e){"use strict";var t=e.fn.cycle;e.fn.cycle=function(o){var i,n,s,r=e.makeArray(arguments);return"number"==e.type(o)?this.cycle("goto",o):"string"==e.type(o)?this.each(function(){var l;return i=o,s=e(this).data("cycle.opts"),void 0===s?void t.log('slideshow must be initialized before sending commands; "'+i+'" ignored'):(i="goto"==i?"jump":i,n=s.API[i],e.isFunction(n)?(l=e.makeArray(r),l.shift(),n.apply(s.API,l)):void t.log("unknown command: ",i))}):t.apply(this,arguments)},e.extend(e.fn.cycle,t),e.extend(t.API,{next:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?-1:1;e.allowWrap===!1&&e.currSlide+t>=e.slideCount||(e.API.advanceSlide(t),e.API.trigger("cycle-next",[e]).log("cycle-next"))}},prev:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?1:-1;e.allowWrap===!1&&e.currSlide+t<0||(e.API.advanceSlide(t),e.API.trigger("cycle-prev",[e]).log("cycle-prev"))}},destroy:function(){this.stop();var t=this.opts(),o=e.isFunction(e._data)?e._data:e.noop;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stop(),t.API.trigger("cycle-destroyed",[t]).log("cycle-destroyed"),t.container.removeData(),o(t.container[0],"parsedAttrs",!1),t.retainStylesOnDestroy||(t.container.removeAttr("style"),t.slides.removeAttr("style"),t.slides.removeClass(t.slideActiveClass)),t.slides.each(function(){var i=e(this);i.removeData(),i.removeClass(t.slideClass),o(this,"parsedAttrs",!1)})},jump:function(e,t){var o,i=this.opts();if(!i.busy||i.manualTrump){var n=parseInt(e,10);if(isNaN(n)||n<0||n>=i.slides.length)return void i.API.log("goto: invalid slide index: "+n);if(n==i.currSlide)return void i.API.log("goto: skipping, already on slide",n);i.nextSlide=n,clearTimeout(i.timeoutId),i.timeoutId=0,i.API.log("goto: ",n," (zero-index)"),o=i.currSlide<i.nextSlide,i._tempFx=t,i.API.prepareTx(!0,o)}},stop:function(){var t=this.opts(),o=t.container;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stopTransition(),t.pauseOnHover&&(t.pauseOnHover!==!0&&(o=e(t.pauseOnHover)),o.off("mouseenter mouseleave")),t.API.trigger("cycle-stopped",[t]).log("cycle-stopped")},reinit:function(){var e=this.opts();e.API.destroy(),e.container.cycle()},remove:function(t){for(var o,i,n=this.opts(),s=[],r=1,l=0;l<n.slides.length;l++)o=n.slides[l],l==t?i=o:(s.push(o),e(o).data("cycle.opts").slideNum=r,r++);i&&(n.slides=e(s),n.slideCount--,e(i).remove(),t==n.currSlide?n.API.advanceSlide(1):t<n.currSlide?n.currSlide--:n.currSlide++,n.API.trigger("cycle-slide-removed",[n,t,i]).log("cycle-slide-removed"),n.API.updateView())}}),e(document).on("click.cycle","[data-cycle-cmd]",function(t){t.preventDefault();var o=e(this),i=o.data("cycle-cmd"),n=o.data("cycle-context")||".cycle-slideshow";e(n).cycle(i,o.data("cycle-arg"))})}(jQuery),function(e){"use strict";function t(t,o){var i;return t._hashFence?void(t._hashFence=!1):(i=window.location.hash.substring(1),void t.slides.each(function(n){if(e(this).data("cycle-hash")==i){if(o===!0)t.startingSlide=n;else{var s=t.currSlide<n;t.nextSlide=n,t.API.prepareTx(!0,s)}return!1}}))}e(document).on("cycle-pre-initialize",function(o,i){t(i,!0),i._onHashChange=function(){t(i,!1)},e(window).on("hashchange",i._onHashChange)}),e(document).on("cycle-update-view",function(e,t,o){o.hash&&"#"+o.hash!=window.location.hash&&(t._hashFence=!0,window.location.hash=o.hash)}),e(document).on("cycle-destroyed",function(t,o){o._onHashChange&&e(window).off("hashchange",o._onHashChange)})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{loader:!1}),e(document).on("cycle-bootstrap",function(t,o){function i(t,i){function s(t){var s;"wait"==o.loader?(l.push(t),0===c&&(l.sort(r),n.apply(o.API,[l,i]),o.container.removeClass("cycle-loading"))):(s=e(o.slides[o.currSlide]),n.apply(o.API,[t,i]),s.show(),o.container.removeClass("cycle-loading"))}function r(e,t){return e.data("index")-t.data("index")}var l=[];if("string"==e.type(t))t=e.trim(t);else if("array"===e.type(t))for(var a=0;a<t.length;a++)t[a]=e(t[a])[0];t=e(t);var c=t.length;c&&(t.css("visibility","hidden").appendTo("body").each(function(t){function r(){0===--a&&(--c,s(d))}var a=0,d=e(this),p=d.is("img")?d:d.find("img");return d.data("index",t),p=p.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),p.length?(a=p.length,void p.each(function(){this.complete?r():e(this).load(function(){r()}).on("error",function(){0===--a&&(o.API.log("slide skipped; img not loaded:",this.src),0===--c&&"wait"==o.loader&&n.apply(o.API,[l,i]))})})):(--c,void l.push(d))}),c&&o.container.addClass("cycle-loading"))}var n;o.loader&&(n=o.API.add,o.API.add=i)})}(jQuery),function(e){"use strict";function t(t,o,i){var n,s=t.API.getComponent("pager");s.each(function(){var s=e(this);if(o.pagerTemplate){var r=t.API.tmpl(o.pagerTemplate,o,t,i[0]);n=e(r).appendTo(s)}else n=s.children().eq(t.slideCount-1);n.on(t.pagerEvent,function(e){t.pagerEventBubble||e.preventDefault(),t.API.page(s,e.currentTarget)})})}function o(e,t){var o=this.opts();if(!o.busy||o.manualTrump){var i=e.children().index(t),n=i,s=o.currSlide<n;o.currSlide!=n&&(o.nextSlide=n,o._tempFx=o.pagerFx,o.API.prepareTx(!0,s),o.API.trigger("cycle-pager-activated",[o,e,t]))}}e.extend(e.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerEventBubble:void 0,pagerTemplate:"<span>&bull;</span>"}),e(document).on("cycle-bootstrap",function(e,o,i){i.buildPagerLink=t}),e(document).on("cycle-slide-added",function(e,t,i,n){t.pager&&(t.API.buildPagerLink(t,i,n),t.API.page=o)}),e(document).on("cycle-slide-removed",function(t,o,i,n){if(o.pager){var s=o.API.getComponent("pager");s.each(function(){var t=e(this);e(t.children()[i]).remove()})}}),e(document).on("cycle-update-view",function(t,o,i){var n;o.pager&&(n=o.API.getComponent("pager"),n.each(function(){e(this).children().removeClass(o.pagerActiveClass).eq(o.currSlide).addClass(o.pagerActiveClass)}))}),e(document).on("cycle-destroyed",function(e,t){var o=t.API.getComponent("pager");o&&(o.children().off(t.pagerEvent),t.pagerTemplate&&o.empty())})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),e(document).on("cycle-initialized",function(e,t){if(t.API.getComponent("next").on(t.nextEvent,function(e){e.preventDefault(),t.API.next()}),t.API.getComponent("prev").on(t.prevEvent,function(e){e.preventDefault(),t.API.prev()}),t.swipe){var o=t.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",i=t.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";t.container.on(o,function(e){t._tempFx=t.swipeFx,t.API.next()}),t.container.on(i,function(){t._tempFx=t.swipeFx,t.API.prev()})}}),e(document).on("cycle-update-view",function(e,t,o,i){if(!t.allowWrap){var n=t.disabledClass,s=t.API.getComponent("next"),r=t.API.getComponent("prev"),l=t._prevBoundry||0,a=void 0!==t._nextBoundry?t._nextBoundry:t.slideCount-1;t.currSlide==a?s.addClass(n).prop("disabled",!0):s.removeClass(n).prop("disabled",!1),t.currSlide===l?r.addClass(n).prop("disabled",!0):r.removeClass(n).prop("disabled",!1)}}),e(document).on("cycle-destroyed",function(e,t){t.API.getComponent("prev").off(t.nextEvent),t.API.getComponent("next").off(t.prevEvent),t.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{progressive:!1}),e(document).on("cycle-pre-initialize",function(t,o){if(o.progressive){var i,n,s=o.API,r=s.next,l=s.prev,a=s.prepareTx,c=e.type(o.progressive);if("array"==c)i=o.progressive;else if(e.isFunction(o.progressive))i=o.progressive(o);else if("string"==c){if(n=e(o.progressive),i=e.trim(n.html()),!i)return;if(/^(\[)/.test(i))try{i=e.parseJSON(i)}catch(e){return void s.log("error parsing progressive slides",e)}else i=i.split(new RegExp(n.data("cycle-split")||"\n")),i[i.length-1]||i.pop()}a&&(s.prepareTx=function(e,t){var n,s;return e||0===i.length?void a.apply(o.API,[e,t]):void(t&&o.currSlide==o.slideCount-1?(s=i[0],i=i.slice(1),o.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.API.advanceSlide(1)},50)}),o.API.add(s)):t||0!==o.currSlide?a.apply(o.API,[e,t]):(n=i.length-1,s=i[n],i=i.slice(0,n),o.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.currSlide=1,t.API.advanceSlide(-1)},50)}),o.API.add(s,!0)))}),r&&(s.next=function(){var e=this.opts();if(i.length&&e.currSlide==e.slideCount-1){var t=i[0];i=i.slice(1),e.container.one("cycle-slide-added",function(e,t){r.apply(t.API),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(t)}else r.apply(e.API)}),l&&(s.prev=function(){var e=this.opts();if(i.length&&0===e.currSlide){var t=i.length-1,o=i[t];i=i.slice(0,t),e.container.one("cycle-slide-added",function(e,t){t.currSlide=1,t.API.advanceSlide(-1),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(o,!0)}else l.apply(e.API)})}})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),e.extend(e.fn.cycle.API,{tmpl:function(t,o){var i=new RegExp(o.tmplRegex||e.fn.cycle.defaults.tmplRegex,"g"),n=e.makeArray(arguments);return n.shift(),t.replace(i,function(t,o){var i,s,r,l,a=o.split(".");for(i=0;i<n.length;i++)if(r=n[i]){if(a.length>1)for(l=r,s=0;s<a.length;s++)r=l,l=l[a[s]]||o;else l=r[o];if(e.isFunction(l))return l.apply(r,n);if(void 0!==l&&null!==l&&l!=o)return l}return o})}})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{centerHorz:!1,centerVert:!1}),e(document).on("cycle-pre-initialize",function(t,o){function i(){clearTimeout(a),a=setTimeout(r,50)}function n(t,o){clearTimeout(a),clearTimeout(c),e(window).off("resize orientationchange",i)}function s(){o.slides.each(l)}function r(){l.apply(o.container.find("."+o.slideActiveClass)),clearTimeout(c),c=setTimeout(s,50)}function l(){var t=e(this),i=o.container.width(),n=o.container.height(),s=t.outerWidth(),r=t.outerHeight();s&&(o.centerHorz&&s<=i&&t.css("marginLeft",(i-s)/2),o.centerVert&&r<=n&&t.css("marginTop",(n-r)/2))}if(o.centerHorz||o.centerVert){var a,c;e(window).on("resize orientationchange load",i),o.container.on("cycle-destroyed",n),o.container.on("cycle-initialized cycle-slide-added cycle-slide-removed",function(e,t,o,n){i()}),r()}})}(jQuery),function(e){"use strict";"ontouchend"in document;e.event.special.swipe=e.event.special.swipe||{scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var t=e(this);t.bind("touchstart",function(o){function i(t){if(r){var o=t.originalEvent.touches?t.originalEvent.touches[0]:t;n={time:(new Date).getTime(),coords:[o.pageX,o.pageY]},Math.abs(r.coords[0]-n.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}}var n,s=o.originalEvent.touches?o.originalEvent.touches[0]:o,r={time:(new Date).getTime(),coords:[s.pageX,s.pageY],origin:e(o.target)};t.bind("touchmove",i).one("touchend",function(o){t.unbind("touchmove",i),r&&n&&n.time-r.time<e.event.special.swipe.durationThreshold&&Math.abs(r.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(r.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&r.origin.trigger("swipe").trigger(r.coords[0]>n.coords[0]?"swipeleft":"swiperight"),r=n=void 0})})}},e.event.special.swipeleft=e.event.special.swipeleft||{setup:function(){e(this).bind("swipe",e.noop)}},e.event.special.swiperight=e.event.special.swiperight||e.event.special.swipeleft}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t){return!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!==-1}function o(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var i=e.scrollTo=function(t,o,i){return e(window).scrollTo(t,o,i)};return i.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(n,s,r){"object"==typeof s&&(r=s,s=0),"function"==typeof r&&(r={onAfter:r}),"max"===n&&(n=9e9),r=e.extend({},i.defaults,r),s=s||r.duration;var l=r.queue&&r.axis.length>1;return l&&(s/=2),r.offset=o(r.offset),r.over=o(r.over),this.each(function(){function a(t){var o=e.extend({},r,{queue:!0,duration:s,complete:t&&function(){t.call(p,f,r)}});u.animate(h,o)}if(null!==n){var c,d=t(this),p=d?this.contentWindow||window:this,u=e(p),f=n,h={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=o(f);break}f=d?e(f):e(f,p);case"object":if(0===f.length)return;(f.is||f.style)&&(c=(f=e(f)).offset())}var m=e.isFunction(r.offset)&&r.offset(p,f)||r.offset;e.each(r.axis.split(""),function(e,t){var o="x"===t?"Left":"Top",n=o.toLowerCase(),s="scroll"+o,g=u[s](),v=i.max(p,t);if(c)h[s]=c[n]+(d?0:g-u.offset()[n]),r.margin&&(h[s]-=parseInt(f.css("margin"+o),10)||0,h[s]-=parseInt(f.css("border"+o+"Width"),10)||0),h[s]+=m[n]||0,r.over[n]&&(h[s]+=f["x"===t?"width":"height"]()*r.over[n]);else{var y=f[n];h[s]=y.slice&&"%"===y.slice(-1)?parseFloat(y)/100*v:y}r.limit&&/^\d+$/.test(h[s])&&(h[s]=h[s]<=0?0:Math.min(h[s],v)),!e&&r.axis.length>1&&(g===h[s]?h={}:l&&(a(r.onAfterFirst),h={}))}),a(r.onAfter)}})},i.max=function(o,i){var n="x"===i?"Width":"Height",s="scroll"+n;if(!t(o))return o[s]-e(o)[n.toLowerCase()]();var r="client"+n,l=o.ownerDocument||o.document,a=l.documentElement,c=l.body;return Math.max(a[s],c[s])-Math.min(a[r],c[r])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var o=this.get(t);if(t.options.interrupt&&t._last&&t._last!==o)return e(t.elem).stop();var i=Math.round(t.now);o!==i&&(e(t.elem)[t.prop](i),t._last=this.get(t))}},i}),function(e,t){function o(e){return""===s?e:(e=e.charAt(0).toUpperCase()+e.substr(1),s+e)}var i=Math,n=t.createElement("div").style,s=function(){for(var e,t="t,webkitT,MozT,msT,OT".split(","),o=0,i=t.length;o<i;o++)if(e=t[o]+"ransform",e in n)return t[o].substr(0,t[o].length-1);return!1}(),r=s?"-"+s.toLowerCase()+"-":"",l=o("transform"),a=o("transitionProperty"),c=o("transitionDuration"),d=o("transformOrigin"),p=o("transitionTimingFunction"),u=o("transitionDelay"),f=/android/gi.test(navigator.appVersion),h=/iphone|ipad/gi.test(navigator.appVersion),m=/hp-tablet/gi.test(navigator.appVersion),g=o("perspective")in n,v="ontouchstart"in e&&!m,y=s!==!1,S=o("transition")in n,x="onorientationchange"in e?"orientationchange":"resize",b=v?"touchstart":"mousedown",w=v?"touchmove":"mousemove",T=v?"touchend":"mouseup",I=v?"touchcancel":"mouseup",P=function(){if(s===!1)return!1;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[s]}(),A=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),_=function(){return e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}(),z=g?" translateZ(0)":"",C=function(o,i){var n,s=this;s.wrapper="object"==typeof o?o:t.getElementById(o),s.wrapper.style.overflow="hidden",s.scroller=s.wrapper.children[0],s.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:f,hideScrollbar:h,fadeScrollbar:h&&g,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(n in i)s.options[n]=i[n];s.x=s.options.x,s.y=s.options.y,s.options.useTransform=y&&s.options.useTransform,s.options.hScrollbar=s.options.hScroll&&s.options.hScrollbar,s.options.vScrollbar=s.options.vScroll&&s.options.vScrollbar,s.options.zoom=s.options.useTransform&&s.options.zoom,s.options.useTransition=S&&s.options.useTransition,s.options.zoom&&f&&(z=""),s.scroller.style[a]=s.options.useTransform?r+"transform":"top left",s.scroller.style[c]="0",s.scroller.style[d]="0 0",s.options.useTransition&&(s.scroller.style[p]="cubic-bezier(0.33,0.66,0.66,1)"),s.options.useTransform?s.scroller.style[l]="translate("+s.x+"px,"+s.y+"px)"+z:s.scroller.style.cssText+=";position:absolute;top:"+s.y+"px;left:"+s.x+"px",s.options.useTransition&&(s.options.fixedScrollbar=!0),s.refresh(),s._bind(x,e),s._bind(b),v||"none"!=s.options.wheelAction&&(s._bind("DOMMouseScroll"),s._bind("mousewheel")),s.options.checkDOMChanges&&(s.checkDOMTime=setInterval(function(){s._checkDOMChanges()},500))};C.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case b:if(!v&&0!==e.button)return;t._start(e);break;case w:t._move(e);break;case T:case I:t._end(e);break;case x:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(e);break;case P:t._transitionEnd(e)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(e){var o,n=this;return n[e+"Scrollbar"]?(n[e+"ScrollbarWrapper"]||(o=t.createElement("div"),n.options.scrollbarClass?o.className=n.options.scrollbarClass+e.toUpperCase():o.style.cssText="position:absolute;z-index:100;"+("h"==e?"height:7px;bottom:1px;left:2px;right:"+(n.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(n.hScrollbar?"7":"2")+"px;top:2px;right:1px"),o.style.cssText+=";pointer-events:none;"+r+"transition-property:opacity;"+r+"transition-duration:"+(n.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(n.options.hideScrollbar?"0":"1"),n.wrapper.appendChild(o),n[e+"ScrollbarWrapper"]=o,o=t.createElement("div"),n.options.scrollbarClass||(o.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+r+"background-clip:padding-box;"+r+"box-sizing:border-box;"+("h"==e?"height:100%":"width:100%")+";"+r+"border-radius:3px;border-radius:3px"),o.style.cssText+=";pointer-events:none;"+r+"transition-property:"+r+"transform;"+r+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+r+"transition-duration:0;"+r+"transform: translate(0,0)"+z,n.options.useTransition&&(o.style.cssText+=";"+r+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),n[e+"ScrollbarWrapper"].appendChild(o),n[e+"ScrollbarIndicator"]=o),"h"==e?(n.hScrollbarSize=n.hScrollbarWrapper.clientWidth,n.hScrollbarIndicatorSize=i.max(i.round(n.hScrollbarSize*n.hScrollbarSize/n.scrollerW),8),n.hScrollbarIndicator.style.width=n.hScrollbarIndicatorSize+"px",n.hScrollbarMaxScroll=n.hScrollbarSize-n.hScrollbarIndicatorSize,
n.hScrollbarProp=n.hScrollbarMaxScroll/n.maxScrollX):(n.vScrollbarSize=n.vScrollbarWrapper.clientHeight,n.vScrollbarIndicatorSize=i.max(i.round(n.vScrollbarSize*n.vScrollbarSize/n.scrollerH),8),n.vScrollbarIndicator.style.height=n.vScrollbarIndicatorSize+"px",n.vScrollbarMaxScroll=n.vScrollbarSize-n.vScrollbarIndicatorSize,n.vScrollbarProp=n.vScrollbarMaxScroll/n.maxScrollY),void n._scrollbarPos(e,!0)):void(n[e+"ScrollbarWrapper"]&&(y&&(n[e+"ScrollbarIndicator"].style[l]=""),n[e+"ScrollbarWrapper"].parentNode.removeChild(n[e+"ScrollbarWrapper"]),n[e+"ScrollbarWrapper"]=null,n[e+"ScrollbarIndicator"]=null))},_resize:function(){var e=this;setTimeout(function(){e.refresh()},f?200:0)},_pos:function(e,t){this.zoomed||(e=this.hScroll?e:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[l]="translate("+e+"px,"+t+"px) scale("+this.scale+")"+z:(e=i.round(e),t=i.round(t),this.scroller.style.left=e+"px",this.scroller.style.top=t+"px"),this.x=e,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(e,t){var o,n=this,s="h"==e?n.x:n.y;n[e+"Scrollbar"]&&(s=n[e+"ScrollbarProp"]*s,s<0?(n.options.fixedScrollbar||(o=n[e+"ScrollbarIndicatorSize"]+i.round(3*s),o<8&&(o=8),n[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=o+"px"),s=0):s>n[e+"ScrollbarMaxScroll"]&&(n.options.fixedScrollbar?s=n[e+"ScrollbarMaxScroll"]:(o=n[e+"ScrollbarIndicatorSize"]-i.round(3*(s-n[e+"ScrollbarMaxScroll"])),o<8&&(o=8),n[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=o+"px",s=n[e+"ScrollbarMaxScroll"]+(n[e+"ScrollbarIndicatorSize"]-o))),n[e+"ScrollbarWrapper"].style[u]="0",n[e+"ScrollbarWrapper"].style.opacity=t&&n.options.hideScrollbar?"0":"1",n[e+"ScrollbarIndicator"].style[l]="translate("+("h"==e?s+"px,0)":"0,"+s+"px)")+z)},_start:function(t){var o,n,s,r,a,c=this,d=v?t.touches[0]:t;c.enabled&&(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,t),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&v&&t.touches.length>1&&(r=i.abs(t.touches[0].pageX-t.touches[1].pageX),a=i.abs(t.touches[0].pageY-t.touches[1].pageY),c.touchesDistStart=i.sqrt(r*r+a*a),c.originX=i.abs(t.touches[0].pageX+t.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=i.abs(t.touches[0].pageY+t.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,t)),c.options.momentum&&(c.options.useTransform?(o=getComputedStyle(c.scroller,null)[l].replace(/[^0-9\-.,]/g,"").split(","),n=+(o[12]||o[4]),s=+(o[13]||o[5])):(n=+getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),s=+getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),n==c.x&&s==c.y||(c.options.useTransition?c._unbind(P):_(c.aniTime),c.steps=[],c._pos(n,s),c.options.onScrollEnd&&c.options.onScrollEnd.call(c))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=d.pageX,c.pointY=d.pageY,c.startTime=t.timeStamp||Date.now(),c.options.onScrollStart&&c.options.onScrollStart.call(c,t),c._bind(w,e),c._bind(T,e),c._bind(I,e))},_move:function(e){var t,o,n,s=this,r=v?e.touches[0]:e,a=r.pageX-s.pointX,c=r.pageY-s.pointY,d=s.x+a,p=s.y+c,u=e.timeStamp||Date.now();return s.options.onBeforeScrollMove&&s.options.onBeforeScrollMove.call(s,e),s.options.zoom&&v&&e.touches.length>1?(t=i.abs(e.touches[0].pageX-e.touches[1].pageX),o=i.abs(e.touches[0].pageY-e.touches[1].pageY),s.touchesDist=i.sqrt(t*t+o*o),s.zoomed=!0,n=1/s.touchesDistStart*s.touchesDist*this.scale,n<s.options.zoomMin?n=.5*s.options.zoomMin*Math.pow(2,n/s.options.zoomMin):n>s.options.zoomMax&&(n=2*s.options.zoomMax*Math.pow(.5,s.options.zoomMax/n)),s.lastScale=n/this.scale,d=this.originX-this.originX*s.lastScale+this.x,p=this.originY-this.originY*s.lastScale+this.y,this.scroller.style[l]="translate("+d+"px,"+p+"px) scale("+n+")"+z,void(s.options.onZoom&&s.options.onZoom.call(s,e))):(s.pointX=r.pageX,s.pointY=r.pageY,(d>0||d<s.maxScrollX)&&(d=s.options.bounce?s.x+a/2:d>=0||s.maxScrollX>=0?0:s.maxScrollX),(p>s.minScrollY||p<s.maxScrollY)&&(p=s.options.bounce?s.y+c/2:p>=s.minScrollY||s.maxScrollY>=0?s.minScrollY:s.maxScrollY),s.distX+=a,s.distY+=c,s.absDistX=i.abs(s.distX),s.absDistY=i.abs(s.distY),void(s.absDistX<6&&s.absDistY<6||(s.options.lockDirection&&(s.absDistX>s.absDistY+5?(p=s.y,c=0):s.absDistY>s.absDistX+5&&(d=s.x,a=0)),s.moved=!0,s._pos(d,p),s.dirX=a>0?-1:a<0?1:0,s.dirY=c>0?-1:c<0?1:0,u-s.startTime>300&&(s.startTime=u,s.startX=s.x,s.startY=s.y),s.options.onScrollMove&&s.options.onScrollMove.call(s,e))))},_end:function(o){if(!v||0===o.touches.length){var n,s,r,a,d,p,u,f=this,h=v?o.changedTouches[0]:o,m={dist:0,time:0},g={dist:0,time:0},y=(o.timeStamp||Date.now())-f.startTime,S=f.x,x=f.y;if(f._unbind(w,e),f._unbind(T,e),f._unbind(I,e),f.options.onBeforeScrollEnd&&f.options.onBeforeScrollEnd.call(f,o),f.zoomed)return u=f.scale*f.lastScale,u=Math.max(f.options.zoomMin,u),u=Math.min(f.options.zoomMax,u),f.lastScale=u/f.scale,f.scale=u,f.x=f.originX-f.originX*f.lastScale+f.x,f.y=f.originY-f.originY*f.lastScale+f.y,f.scroller.style[c]="200ms",f.scroller.style[l]="translate("+f.x+"px,"+f.y+"px) scale("+f.scale+")"+z,f.zoomed=!1,f.refresh(),void(f.options.onZoomEnd&&f.options.onZoomEnd.call(f,o));if(!f.moved)return v&&(f.doubleTapTimer&&f.options.zoom?(clearTimeout(f.doubleTapTimer),f.doubleTapTimer=null,f.options.onZoomStart&&f.options.onZoomStart.call(f,o),f.zoom(f.pointX,f.pointY,1==f.scale?f.options.doubleTapZoom:1),f.options.onZoomEnd&&setTimeout(function(){f.options.onZoomEnd.call(f,o)},200)):this.options.handleClick&&(f.doubleTapTimer=setTimeout(function(){for(f.doubleTapTimer=null,n=h.target;1!=n.nodeType;)n=n.parentNode;"SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName&&(s=t.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!0,o.view,1,h.screenX,h.screenY,h.clientX,h.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,0,null),s._fake=!0,n.dispatchEvent(s))},f.options.zoom?250:0))),f._resetPos(400),void(f.options.onTouchEnd&&f.options.onTouchEnd.call(f,o));if(y<300&&f.options.momentum&&(m=S?f._momentum(S-f.startX,y,-f.x,f.scrollerW-f.wrapperW+f.x,f.options.bounce?f.wrapperW:0):m,g=x?f._momentum(x-f.startY,y,-f.y,f.maxScrollY<0?f.scrollerH-f.wrapperH+f.y-f.minScrollY:0,f.options.bounce?f.wrapperH:0):g,S=f.x+m.dist,x=f.y+g.dist,(f.x>0&&S>0||f.x<f.maxScrollX&&S<f.maxScrollX)&&(m={dist:0,time:0}),(f.y>f.minScrollY&&x>f.minScrollY||f.y<f.maxScrollY&&x<f.maxScrollY)&&(g={dist:0,time:0})),m.dist||g.dist)return d=i.max(i.max(m.time,g.time),10),f.options.snap&&(r=S-f.absStartX,a=x-f.absStartY,i.abs(r)<f.options.snapThreshold&&i.abs(a)<f.options.snapThreshold?f.scrollTo(f.absStartX,f.absStartY,200):(p=f._snap(S,x),S=p.x,x=p.y,d=i.max(p.time,d))),f.scrollTo(i.round(S),i.round(x),d),void(f.options.onTouchEnd&&f.options.onTouchEnd.call(f,o));if(f.options.snap)return r=S-f.absStartX,a=x-f.absStartY,i.abs(r)<f.options.snapThreshold&&i.abs(a)<f.options.snapThreshold?f.scrollTo(f.absStartX,f.absStartY,200):(p=f._snap(f.x,f.y),p.x==f.x&&p.y==f.y||f.scrollTo(p.x,p.y,p.time)),void(f.options.onTouchEnd&&f.options.onTouchEnd.call(f,o));f._resetPos(200),f.options.onTouchEnd&&f.options.onTouchEnd.call(f,o)}},_resetPos:function(e){var t=this,o=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,i=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;return o==t.x&&i==t.y?(t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&("webkit"==s&&(t.hScrollbarWrapper.style[u]="300ms"),t.hScrollbarWrapper.style.opacity="0"),void(t.vScrollbar&&t.options.hideScrollbar&&("webkit"==s&&(t.vScrollbarWrapper.style[u]="300ms"),t.vScrollbarWrapper.style.opacity="0"))):void t.scrollTo(o,i,e||0)},_wheel:function(e){var t,o,i,n,s,r=this;if("wheelDeltaX"in e)t=e.wheelDeltaX/12,o=e.wheelDeltaY/12;else if("wheelDelta"in e)t=o=e.wheelDelta/12;else{if(!("detail"in e))return;t=o=3*-e.detail}return"zoom"==r.options.wheelAction?(s=r.scale*Math.pow(2,1/3*(o?o/Math.abs(o):0)),s<r.options.zoomMin&&(s=r.options.zoomMin),s>r.options.zoomMax&&(s=r.options.zoomMax),void(s!=r.scale&&(!r.wheelZoomCount&&r.options.onZoomStart&&r.options.onZoomStart.call(r,e),r.wheelZoomCount++,r.zoom(e.pageX,e.pageY,s,400),setTimeout(function(){r.wheelZoomCount--,!r.wheelZoomCount&&r.options.onZoomEnd&&r.options.onZoomEnd.call(r,e)},400)))):(i=r.x+t,n=r.y+o,i>0?i=0:i<r.maxScrollX&&(i=r.maxScrollX),n>r.minScrollY?n=r.minScrollY:n<r.maxScrollY&&(n=r.maxScrollY),void(r.maxScrollY<0&&r.scrollTo(i,n,0)))},_transitionEnd:function(e){var t=this;e.target==t.scroller&&(t._unbind(P),t._startAni())},_startAni:function(){var e,t,o,n=this,s=n.x,r=n.y,l=Date.now();if(!n.animating){if(!n.steps.length)return void n._resetPos(400);if(e=n.steps.shift(),e.x==s&&e.y==r&&(e.time=0),n.animating=!0,n.moved=!0,n.options.useTransition)return n._transitionTime(e.time),n._pos(e.x,e.y),n.animating=!1,void(e.time?n._bind(P):n._resetPos(0));o=function(){var a,c,d=Date.now();return d>=l+e.time?(n._pos(e.x,e.y),n.animating=!1,n.options.onAnimationEnd&&n.options.onAnimationEnd.call(n),void n._startAni()):(d=(d-l)/e.time-1,t=i.sqrt(1-d*d),a=(e.x-s)*t+s,c=(e.y-r)*t+r,n._pos(a,c),void(n.animating&&(n.aniTime=A(o))))},o()}},_transitionTime:function(e){e+="ms",this.scroller.style[c]=e,this.hScrollbar&&(this.hScrollbarIndicator.style[c]=e),this.vScrollbar&&(this.vScrollbarIndicator.style[c]=e)},_momentum:function(e,t,o,n,s){var r=6e-4,l=i.abs(e)/t,a=l*l/(2*r),c=0,d=0;return e>0&&a>o?(d=s/(6/(a/l*r)),o+=d,l=l*o/a,a=o):e<0&&a>n&&(d=s/(6/(a/l*r)),n+=d,l=l*n/a,a=n),a*=e<0?-1:1,c=l/r,{dist:a,time:i.round(c)}},_offset:function(e){for(var t=-e.offsetLeft,o=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,o-=e.offsetTop;return e!=this.wrapper&&(t*=this.scale,o*=this.scale),{left:t,top:o}},_snap:function(e,t){var o,n,s,r,l,a,c=this;for(s=c.pagesX.length-1,o=0,n=c.pagesX.length;o<n;o++)if(e>=c.pagesX[o]){s=o;break}for(s==c.currPageX&&s>0&&c.dirX<0&&s--,e=c.pagesX[s],l=i.abs(e-c.pagesX[c.currPageX]),l=l?i.abs(c.x-e)/l*500:0,c.currPageX=s,s=c.pagesY.length-1,o=0;o<s;o++)if(t>=c.pagesY[o]){s=o;break}return s==c.currPageY&&s>0&&c.dirY<0&&s--,t=c.pagesY[s],a=i.abs(t-c.pagesY[c.currPageY]),a=a?i.abs(c.y-t)/a*500:0,c.currPageY=s,r=i.round(i.max(l,a))||200,{x:e,y:t,time:r}},_bind:function(e,t,o){(t||this.scroller).addEventListener(e,this,!!o)},_unbind:function(e,t,o){(t||this.scroller).removeEventListener(e,this,!!o)},destroy:function(){var t=this;t.scroller.style[l]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(x,e),t._unbind(b),t._unbind(w,e),t._unbind(T,e),t._unbind(I,e),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(P),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var e,t,o,n,s=this,r=0,l=0;if(s.scale<s.options.zoomMin&&(s.scale=s.options.zoomMin),s.wrapperW=s.wrapper.clientWidth||1,s.wrapperH=s.wrapper.clientHeight||1,s.minScrollY=-s.options.topOffset||0,s.scrollerW=i.round(s.scroller.offsetWidth*s.scale),s.scrollerH=i.round((s.scroller.offsetHeight+s.minScrollY)*s.scale),s.maxScrollX=s.wrapperW-s.scrollerW,s.maxScrollY=s.wrapperH-s.scrollerH+s.minScrollY,s.dirX=0,s.dirY=0,s.options.onRefresh&&s.options.onRefresh.call(s),s.hScroll=s.options.hScroll&&s.maxScrollX<0,s.vScroll=s.options.vScroll&&(!s.options.bounceLock&&!s.hScroll||s.scrollerH>s.wrapperH),s.hScrollbar=s.hScroll&&s.options.hScrollbar,s.vScrollbar=s.vScroll&&s.options.vScrollbar&&s.scrollerH>s.wrapperH,e=s._offset(s.wrapper),s.wrapperOffsetLeft=-e.left,s.wrapperOffsetTop=-e.top,"string"==typeof s.options.snap)for(s.pagesX=[],s.pagesY=[],n=s.scroller.querySelectorAll(s.options.snap),t=0,o=n.length;t<o;t++)r=s._offset(n[t]),r.left+=s.wrapperOffsetLeft,r.top+=s.wrapperOffsetTop,s.pagesX[t]=r.left<s.maxScrollX?s.maxScrollX:r.left*s.scale,s.pagesY[t]=r.top<s.maxScrollY?s.maxScrollY:r.top*s.scale;else if(s.options.snap){for(s.pagesX=[];r>=s.maxScrollX;)s.pagesX[l]=r,r-=s.wrapperW,l++;for(s.maxScrollX%s.wrapperW&&(s.pagesX[s.pagesX.length]=s.maxScrollX-s.pagesX[s.pagesX.length-1]+s.pagesX[s.pagesX.length-1]),r=0,l=0,s.pagesY=[];r>=s.maxScrollY;)s.pagesY[l]=r,r-=s.wrapperH,l++;s.maxScrollY%s.wrapperH&&(s.pagesY[s.pagesY.length]=s.maxScrollY-s.pagesY[s.pagesY.length-1]+s.pagesY[s.pagesY.length-1])}s._scrollbar("h"),s._scrollbar("v"),s.zoomed||(s.scroller.style[c]="0",s._resetPos(400))},scrollTo:function(e,t,o,i){var n,s,r=this,l=e;for(r.stop(),l.length||(l=[{x:e,y:t,time:o,relative:i}]),n=0,s=l.length;n<s;n++)l[n].relative&&(l[n].x=r.x-l[n].x,l[n].y=r.y-l[n].y),r.steps.push({x:l[n].x,y:l[n].y,time:l[n].time||0});r._startAni()},scrollToElement:function(e,t){var o,n=this;e=e.nodeType?e:n.scroller.querySelector(e),e&&(o=n._offset(e),o.left+=n.wrapperOffsetLeft,o.top+=n.wrapperOffsetTop,o.left=o.left>0?0:o.left<n.maxScrollX?n.maxScrollX:o.left,o.top=o.top>n.minScrollY?n.minScrollY:o.top<n.maxScrollY?n.maxScrollY:o.top,t=void 0===t?i.max(2*i.abs(o.left),2*i.abs(o.top)):t,n.scrollTo(o.left,o.top,t))},scrollToPage:function(e,t,o){var i,n,s=this;o=void 0===o?400:o,s.options.onScrollStart&&s.options.onScrollStart.call(s),s.options.snap?(e="next"==e?s.currPageX+1:"prev"==e?s.currPageX-1:e,t="next"==t?s.currPageY+1:"prev"==t?s.currPageY-1:t,e=e<0?0:e>s.pagesX.length-1?s.pagesX.length-1:e,t=t<0?0:t>s.pagesY.length-1?s.pagesY.length-1:t,s.currPageX=e,s.currPageY=t,i=s.pagesX[e],n=s.pagesY[t]):(i=-s.wrapperW*e,n=-s.wrapperH*t,i<s.maxScrollX&&(i=s.maxScrollX),n<s.maxScrollY&&(n=s.maxScrollY)),s.scrollTo(i,n,o)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(w,e),this._unbind(T,e),this._unbind(I,e)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(P):_(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(e,t,o,i){var n=this,s=o/n.scale;n.options.useTransform&&(n.zoomed=!0,i=void 0===i?200:i,e=e-n.wrapperOffsetLeft-n.x,t=t-n.wrapperOffsetTop-n.y,n.x=e-e*s+n.x,n.y=t-t*s+n.y,n.scale=o,n.refresh(),n.x=n.x>0?0:n.x<n.maxScrollX?n.maxScrollX:n.x,n.y=n.y>n.minScrollY?n.minScrollY:n.y<n.maxScrollY?n.maxScrollY:n.y,n.scroller.style[c]=i+"ms",n.scroller.style[l]="translate("+n.x+"px,"+n.y+"px) scale("+o+")"+z,n.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},n=null,"undefined"!=typeof exports?exports.iScroll=C:e.iScroll=C}(window,document),function(e,t,o,i){function n(t,o){this.element=t,this.options=e.extend({},r,o),this._defaults=r,this._name=s,this.init()}var s="stellar",r={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(e){e.hide()},showElement:function(e){e.show()}},l={scroll:{getLeft:function(e){return e.scrollLeft()},setLeft:function(e,t){e.scrollLeft(t)},getTop:function(e){return e.scrollTop()},setTop:function(e,t){e.scrollTop(t)}},position:{getLeft:function(e){return parseInt(e.css("left"),10)*-1},getTop:function(e){return parseInt(e.css("top"),10)*-1}},margin:{getLeft:function(e){return parseInt(e.css("margin-left"),10)*-1},getTop:function(e){return parseInt(e.css("margin-top"),10)*-1}},transform:{getLeft:function(e){var t=getComputedStyle(e[0])[d];return"none"!==t?parseInt(t.match(/(-?[0-9]+)/g)[4],10)*-1:0},getTop:function(e){var t=getComputedStyle(e[0])[d];return"none"!==t?parseInt(t.match(/(-?[0-9]+)/g)[5],10)*-1:0}}},a={position:{setLeft:function(e,t){e.css("left",t)},setTop:function(e,t){e.css("top",t)}},transform:{setPosition:function(e,t,o,i,n){e[0].style[d]="translate3d("+(t-o)+"px, "+(i-n)+"px, 0)"}}},c=function(){var t,o=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,i=e("script")[0].style,n="";for(t in i)if(o.test(t)){n=t.match(o)[0];break}return"WebkitOpacity"in i&&(n="Webkit"),"KhtmlOpacity"in i&&(n="Khtml"),function(e){return n+(n.length>0?e.charAt(0).toUpperCase()+e.slice(1):e)}}(),d=c("transform"),p=e("<div />",{style:"background:#fff"}).css("background-position-x")!==i,u=p?function(e,t,o){e.css({"background-position-x":t,"background-position-y":o})}:function(e,t,o){e.css("background-position",t+" "+o)},f=p?function(e){return[e.css("background-position-x"),e.css("background-position-y")]}:function(e){return e.css("background-position").split(" ")},h=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};n.prototype={init:function(){this.options.name=s+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===o.body&&(this.element=t),this.$scrollElement=e(this.element),this.$element=this.element===t?e("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==i?e(this.options.viewportElement):this.$scrollElement[0]===t||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var e=this,t=l[e.options.scrollProperty];this._getScrollLeft=function(){return t.getLeft(e.$scrollElement)},this._getScrollTop=function(){return t.getTop(e.$scrollElement)}},_defineSetters:function(){var t=this,o=l[t.options.scrollProperty],i=a[t.options.positionProperty],n=o.setLeft,s=o.setTop;this._setScrollLeft="function"==typeof n?function(e){n(t.$scrollElement,e)}:e.noop,this._setScrollTop="function"==typeof s?function(e){s(t.$scrollElement,e)}:e.noop,this._setPosition=i.setPosition||function(e,o,n,s,r){t.options.horizontalScrolling&&i.setLeft(e,o,n),t.options.verticalScrolling&&i.setTop(e,s,r)}},_handleWindowLoadAndResize:function(){var o=this,i=e(t);o.options.responsive&&i.bind("load."+this.name,function(){o.refresh()}),i.bind("resize."+this.name,function(){o._detectViewport(),o.options.responsive&&o.refresh()})},refresh:function(o){var i=this,n=i._getScrollLeft(),s=i._getScrollTop();o&&o.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),o&&o.firstLoad&&/WebKit/.test(navigator.userAgent)&&e(t).load(function(){var e=i._getScrollLeft(),t=i._getScrollTop();i._setScrollLeft(e+1),i._setScrollTop(t+1),i._setScrollLeft(e),i._setScrollTop(t)}),this._setScrollLeft(n),this._setScrollTop(s)},_detectViewport:function(){var e=this.$viewportElement.offset(),t=null!==e&&e!==i;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=t?e.top:0,this.viewportOffsetLeft=t?e.left:0},_findParticles:function(){var t=this;this._getScrollLeft(),this._getScrollTop();if(this.particles!==i)for(var o=this.particles.length-1;o>=0;o--)this.particles[o].$element.data("stellar-elementIsActive",i);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(o){var n,s,r,l,a,c,d,p,u,f=e(this),h=0,m=0,g=0,v=0;if(f.data("stellar-elementIsActive")){if(f.data("stellar-elementIsActive")!==this)return}else f.data("stellar-elementIsActive",this);t.options.showElement(f),f.data("stellar-startingLeft")?(f.css("left",f.data("stellar-startingLeft")),f.css("top",f.data("stellar-startingTop"))):(f.data("stellar-startingLeft",f.css("left")),f.data("stellar-startingTop",f.css("top"))),r=f.position().left,l=f.position().top,a="auto"===f.css("margin-left")?0:parseInt(f.css("margin-left"),10),c="auto"===f.css("margin-top")?0:parseInt(f.css("margin-top"),10),p=f.offset().left-a,u=f.offset().top-c,f.parents().each(function(){var t=e(this);return t.data("stellar-offset-parent")===!0?(h=g,m=v,d=t,!1):(g+=t.position().left,void(v+=t.position().top))}),n=f.data("stellar-horizontal-offset")!==i?f.data("stellar-horizontal-offset"):d!==i&&d.data("stellar-horizontal-offset")!==i?d.data("stellar-horizontal-offset"):t.horizontalOffset,s=f.data("stellar-vertical-offset")!==i?f.data("stellar-vertical-offset"):d!==i&&d.data("stellar-vertical-offset")!==i?d.data("stellar-vertical-offset"):t.verticalOffset,t.particles.push({$element:f,$offsetParent:d,isFixed:"fixed"===f.css("position"),horizontalOffset:n,verticalOffset:s,startingPositionLeft:r,startingPositionTop:l,startingOffsetLeft:p,startingOffsetTop:u,parentOffsetLeft:h,parentOffsetTop:m,stellarRatio:f.data("stellar-ratio")!==i?f.data("stellar-ratio"):1,width:f.outerWidth(!0),height:f.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var t,o=this,n=this._getScrollLeft(),s=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(t=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(t=t.add(this.$element)),t.each(function(){var t,r,l,a,c,d,p,h=e(this),m=f(h),g=0,v=0,y=0,S=0;if(h.data("stellar-backgroundIsActive")){if(h.data("stellar-backgroundIsActive")!==this)return}else h.data("stellar-backgroundIsActive",this);h.data("stellar-backgroundStartingLeft")?u(h,h.data("stellar-backgroundStartingLeft"),h.data("stellar-backgroundStartingTop")):(h.data("stellar-backgroundStartingLeft",m[0]),h.data("stellar-backgroundStartingTop",m[1])),l="auto"===h.css("margin-left")?0:parseInt(h.css("margin-left"),10),a="auto"===h.css("margin-top")?0:parseInt(h.css("margin-top"),10),c=h.offset().left-l-n,d=h.offset().top-a-s,h.parents().each(function(){var t=e(this);return t.data("stellar-offset-parent")===!0?(g=y,v=S,p=t,!1):(y+=t.position().left,void(S+=t.position().top))}),t=h.data("stellar-horizontal-offset")!==i?h.data("stellar-horizontal-offset"):p!==i&&p.data("stellar-horizontal-offset")!==i?p.data("stellar-horizontal-offset"):o.horizontalOffset,r=h.data("stellar-vertical-offset")!==i?h.data("stellar-vertical-offset"):p!==i&&p.data("stellar-vertical-offset")!==i?p.data("stellar-vertical-offset"):o.verticalOffset,o.backgrounds.push({$element:h,$offsetParent:p,isFixed:"fixed"===h.css("background-attachment"),horizontalOffset:t,verticalOffset:r,startingValueLeft:m[0],startingValueTop:m[1],startingBackgroundPositionLeft:isNaN(parseInt(m[0],10))?0:parseInt(m[0],10),startingBackgroundPositionTop:isNaN(parseInt(m[1],10))?0:parseInt(m[1],10),startingPositionLeft:h.position().left,startingPositionTop:h.position().top,startingOffsetLeft:c,startingOffsetTop:d,parentOffsetLeft:g,parentOffsetTop:v,stellarRatio:h.data("stellar-background-ratio")===i?1:h.data("stellar-background-ratio")})}))},_reset:function(){var e,t,o,i,n;for(n=this.particles.length-1;n>=0;n--)e=this.particles[n],t=e.$element.data("stellar-startingLeft"),o=e.$element.data("stellar-startingTop"),this._setPosition(e.$element,t,t,o,o),this.options.showElement(e.$element),e.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(n=this.backgrounds.length-1;n>=0;n--)i=this.backgrounds[n],i.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),u(i.$element,i.startingValueLeft,i.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=e.noop,e(t).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var o=this,i=e(t);i.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),i.bind("resize.horizontal-"+this.name,function(){o.horizontalOffset=o.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),i.bind("resize.vertical-"+this.name,function(){o.verticalOffset=o.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var e,t,o,i,n,s,r,l,a,c,d=this._getScrollLeft(),p=this._getScrollTop(),f=!0,h=!0;if(this.currentScrollLeft!==d||this.currentScrollTop!==p||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=d,this.currentScrollTop=p,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,c=this.particles.length-1;c>=0;c--)e=this.particles[c],t=e.isFixed?1:0,this.options.horizontalScrolling?(s=(d+e.horizontalOffset+this.viewportOffsetLeft+e.startingPositionLeft-e.startingOffsetLeft+e.parentOffsetLeft)*-(e.stellarRatio+t-1)+e.startingPositionLeft,l=s-e.startingPositionLeft+e.startingOffsetLeft):(s=e.startingPositionLeft,l=e.startingOffsetLeft),this.options.verticalScrolling?(r=(p+e.verticalOffset+this.viewportOffsetTop+e.startingPositionTop-e.startingOffsetTop+e.parentOffsetTop)*-(e.stellarRatio+t-1)+e.startingPositionTop,a=r-e.startingPositionTop+e.startingOffsetTop):(r=e.startingPositionTop,a=e.startingOffsetTop),this.options.hideDistantElements&&(h=!this.options.horizontalScrolling||l+e.width>(e.isFixed?0:d)&&l<(e.isFixed?0:d)+this.viewportWidth+this.viewportOffsetLeft,f=!this.options.verticalScrolling||a+e.height>(e.isFixed?0:p)&&a<(e.isFixed?0:p)+this.viewportHeight+this.viewportOffsetTop),h&&f?(e.isHidden&&(this.options.showElement(e.$element),e.isHidden=!1),this._setPosition(e.$element,s,e.startingPositionLeft,r,e.startingPositionTop)):e.isHidden||(this.options.hideElement(e.$element),e.isHidden=!0);for(c=this.backgrounds.length-1;c>=0;c--)o=this.backgrounds[c],t=o.isFixed?0:1,i=this.options.horizontalScrolling?(d+o.horizontalOffset-this.viewportOffsetLeft-o.startingOffsetLeft+o.parentOffsetLeft-o.startingBackgroundPositionLeft)*(t-o.stellarRatio)+"px":o.startingValueLeft,n=this.options.verticalScrolling?(p+o.verticalOffset-this.viewportOffsetTop-o.startingOffsetTop+o.parentOffsetTop-o.startingBackgroundPositionTop)*(t-o.stellarRatio)+"px":o.startingValueTop,u(o.$element,i,n)}},_handleScrollEvent:function(){var e=this,t=!1,o=function(){e._repositionElements(),t=!1},i=function(){t||(h(o),t=!0)};this.$scrollElement.bind("scroll."+this.name,i),i()},_startAnimationLoop:function(){var e=this;this._animationLoop=function(){h(e._animationLoop),e._repositionElements()},this._animationLoop()}},e.fn[s]=function(t){var o=arguments;return t===i||"object"==typeof t?this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new n(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var i=e.data(this,"plugin_"+s);i instanceof n&&"function"==typeof i[t]&&i[t].apply(i,Array.prototype.slice.call(o,1)),"destroy"===t&&e.data(this,"plugin_"+s,null)}):void 0},e[s]=function(o){var i=e(t);return i.stellar.apply(i,Array.prototype.slice.call(arguments,0))},e[s].scrollProperty=l,e[s].positionProperty=a,t.Stellar=n}(jQuery,this,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,l=a.call(arguments,1),c=0,p=0,u=0,f=0,h=0,m=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(u=r.detail*-1),"wheelDelta"in r&&(u=r.wheelDelta),"wheelDeltaY"in r&&(u=r.wheelDeltaY),"wheelDeltaX"in r&&(p=r.wheelDeltaX*-1),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(p=u*-1,u=0),c=0===u?p:u,"deltaY"in r&&(u=r.deltaY*-1,c=u),"deltaX"in r&&(p=r.deltaX,0===u&&(c=p*-1)),0!==u||0!==p){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,u*=g,p*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,u*=v,p*=v}if(f=Math.max(Math.abs(u),Math.abs(p)),(!s||f<s)&&(s=f,i(r,f)&&(s/=40)),i(r,f)&&(c/=40,p/=40,u/=40),c=Math[c>=1?"floor":"ceil"](c/s),p=Math[p>=1?"floor":"ceil"](p/s),u=Math[u>=1?"floor":"ceil"](u/s),d.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();h=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=p,t.deltaY=u,t.deltaFactor=s,t.offsetX=h,t.offsetY=m,t.deltaMode=0,l.unshift(t,c,p,u),n&&clearTimeout(n),n=setTimeout(o,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function o(){s=null}function i(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var n,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var o=l.length;o;)this.addEventListener(l[--o],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var o=l.length;o;)this.removeEventListener(l[--o],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var o=e(t),i=o["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(o.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){function t(){this.isField=!0,this.down=!1,this.inFocus=!1,this.disabled=!1,this.cutOff=!1,this.hasLabel=!1,this.keyboardMode=!1,this.nativeTouch=!0,this.wrapperClass="dropdown",this.onChange=null}t.prototype={constructor:t,instances:{},init:function(t,o){var i=this;e.extend(i,o),i.$select=e(t),i.id=t.id,i.options=[],i.$options=i.$select.find("option"),i.isTouch="ontouchend"in document,i.$select.removeClass(i.wrapperClass+" dropdown"),i.$select.is(":disabled")&&(i.disabled=!0),i.$options.length&&(i.$options.each(function(t){var o=e(this);o.is(":selected")&&(i.selected={index:t,title:o.text()},i.focusIndex=t),o.hasClass("label")&&0==t?(i.hasLabel=!0,i.label=o.text(),o.attr("value","")):i.options.push({domNode:o[0],title:o.text(),value:o.val(),selected:o.is(":selected")})}),i.selected||(i.selected={index:0,title:i.$options.eq(0).text()},i.focusIndex=0),i.render())},render:function(){var t=this,o=t.isTouch&&t.nativeTouch?" touch":"",i=t.disabled?" disabled":"";t.$container=t.$select.wrap('<div class="'+t.wrapperClass+o+i+'"><span class="old"/></div>').parent().parent(),t.$active=e('<span class="selected">'+t.selected.title+"</span>").appendTo(t.$container),t.$carat=e('<span class="carat"/>').appendTo(t.$container),t.$scrollWrapper=e("<div><ul/></div>").appendTo(t.$container),t.$dropDown=t.$scrollWrapper.find("ul"),t.$form=t.$container.closest("form"),e.each(t.options,function(){var e=this,o=e.selected?' class="active"':"";t.$dropDown.append("<li"+o+">"+e.title+"</li>")}),t.$items=t.$dropDown.find("li"),t.cutOff&&t.$items.length>t.cutOff&&t.$container.addClass("scrollable"),t.getMaxHeight(),t.isTouch&&t.nativeTouch?t.bindTouchHandlers():t.bindHandlers()},getMaxHeight:function(){var e=this;for(e.maxHeight=0,i=0;i<e.$items.length;i++){var t=e.$items.eq(i);if(e.maxHeight+=t.outerHeight(),e.cutOff==i+1)break}},bindTouchHandlers:function(){var t=this;t.$container.on("click.easyDropDown",function(){t.$select.focus()}),t.$select.on({change:function(){var o=e(this).find("option:selected"),i=o.text(),n=o.val();t.$active.text(i),"function"==typeof t.onChange&&t.onChange.call(t.$select[0],{title:i,value:n})},focus:function(){t.$container.addClass("focus")},blur:function(){t.$container.removeClass("focus")}})},bindHandlers:function(){var t=this;t.query="",t.$container.on({"click.easyDropDown":function(){t.down||t.disabled?t.close():t.open()},"mousemove.easyDropDown":function(){t.keyboardMode&&(t.keyboardMode=!1);
}}),e("body").on("click.easyDropDown."+t.id,function(o){var i=e(o.target),n=t.wrapperClass.split(" ").join(".");!i.closest("."+n).length&&t.down&&t.close()}),t.$items.on({"click.easyDropDown":function(){var o=e(this).index();t.select(o),t.$select.focus()},"mouseover.easyDropDown":function(){if(!t.keyboardMode){var o=e(this);o.addClass("focus").siblings().removeClass("focus"),t.focusIndex=o.index()}},"mouseout.easyDropDown":function(){t.keyboardMode||e(this).removeClass("focus")}}),t.$select.on({"focus.easyDropDown":function(){t.$container.addClass("focus"),t.inFocus=!0},"blur.easyDropDown":function(){t.$container.removeClass("focus"),t.inFocus=!1},"keydown.easyDropDown":function(e){if(t.inFocus){t.keyboardMode=!0;var o=e.keyCode;if(38!=o&&40!=o&&32!=o||(e.preventDefault(),38==o?(t.focusIndex--,t.focusIndex=t.focusIndex<0?t.$items.length-1:t.focusIndex):40==o&&(t.focusIndex++,t.focusIndex=t.focusIndex>t.$items.length-1?0:t.focusIndex),t.down||t.open(),t.$items.removeClass("focus").eq(t.focusIndex).addClass("focus"),t.cutOff&&t.scrollToView(),t.query=""),t.down)if(9==o||27==o)t.close();else{if(13==o)return e.preventDefault(),t.select(t.focusIndex),t.close(),!1;if(8==o)return e.preventDefault(),t.query=t.query.slice(0,-1),t.search(),clearTimeout(t.resetQuery),!1;if(38!=o&&40!=o){var i=String.fromCharCode(o);t.query+=i,t.search(),clearTimeout(t.resetQuery)}}}},"keyup.easyDropDown":function(){t.resetQuery=setTimeout(function(){t.query=""},1200)}}),t.$dropDown.on("scroll.easyDropDown",function(e){t.$dropDown[0].scrollTop>=t.$dropDown[0].scrollHeight-t.maxHeight?t.$container.addClass("bottom"):t.$container.removeClass("bottom")}),t.$form.length&&t.$form.on("reset.easyDropDown",function(){var e=t.hasLabel?t.label:t.options[0].title;t.$active.text(e)})},unbindHandlers:function(){var t=this;t.$container.add(t.$select).add(t.$items).add(t.$form).add(t.$dropDown).off(".easyDropDown"),e("body").off("."+t.id)},open:function(){var e=this,t=window.scrollY||document.documentElement.scrollTop,o=window.scrollX||document.documentElement.scrollLeft,i=e.notInViewport(t);e.closeAll(),e.getMaxHeight(),e.$select.focus(),window.scrollTo(o,t+i),e.$container.addClass("open"),e.$scrollWrapper.css("height",e.maxHeight+"px"),e.down=!0},close:function(){var e=this;e.$container.removeClass("open"),e.$scrollWrapper.css("height","0px"),e.focusIndex=e.selected.index,e.query="",e.down=!1},closeAll:function(){var e=this,t=Object.getPrototypeOf(e).instances;for(var o in t){var i=t[o];i.close()}},select:function(e){var t=this;"string"==typeof e&&(e=t.$select.find("option[value="+e+"]").index()-1);var o=t.options[e],n=t.hasLabel?e+1:e;t.$items.removeClass("active").eq(e).addClass("active"),t.$active.text(o.title),t.$select.find("option").removeAttr("selected").eq(n).prop("selected",!0).parent().trigger("change"),t.selected={index:e,title:o.title},t.focusIndex=i,"function"==typeof t.onChange&&t.onChange.call(t.$select[0],{title:o.title,value:o.value})},search:function(){var e=this,t=function(t){e.focusIndex=t,e.$items.removeClass("focus").eq(e.focusIndex).addClass("focus"),e.scrollToView()},o=function(t){return e.options[t].title.toUpperCase()};for(i=0;i<e.options.length;i++){var n=o(i);if(0==n.indexOf(e.query))return void t(i)}for(i=0;i<e.options.length;i++){var n=o(i);if(n.indexOf(e.query)>-1){t(i);break}}},scrollToView:function(){var e=this;if(e.focusIndex>=e.cutOff){var t=e.$items.eq(e.focusIndex),o=t.outerHeight()*(e.focusIndex+1)-e.maxHeight;e.$dropDown.scrollTop(o)}},notInViewport:function(e){var t=this,o={min:e,max:e+(window.innerHeight||document.documentElement.clientHeight)},i=t.$dropDown.offset().top+t.maxHeight;return i>=o.min&&i<=o.max?0:i-o.max+5},destroy:function(){var e=this;e.unbindHandlers(),e.$select.unwrap().siblings().remove(),e.$select.unwrap(),delete Object.getPrototypeOf(e).instances[e.$select[0].id]},disable:function(){var e=this;e.disabled=!0,e.$container.addClass("disabled"),e.$select.attr("disabled",!0),e.down||e.close()},enable:function(){var e=this;e.disabled=!1,e.$container.removeClass("disabled"),e.$select.attr("disabled",!1)}};var o=function(e,o){e.id=e.id?e.id:"EasyDropDown"+n();var i=new t;i.instances[e.id]||(i.instances[e.id]=i,i.init(e,o))},n=function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()};e.fn.easyDropDown=function(){var e,i=arguments,n=[];return e=this.each(function(){if(i&&"string"==typeof i[0]){var e=t.prototype.instances[this.id][i[0]](i[1],i[2]);e&&n.push(e)}else o(this,i[0])}),n.length?n.length>1?n:n[0]:e},e(function(){"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype}),e("select.dropdown").each(function(){var t=e(this).attr("data-settings");settings=t?e.parseJSON(t):{},o(this,settings)})})}(jQuery);