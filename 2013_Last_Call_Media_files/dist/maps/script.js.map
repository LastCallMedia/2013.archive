{"version":3,"sources":["dialog.js","parallax.js","scrollcontrol.js","scrollroadtracks.js","animations.js","script.js"],"names":["$","Drupal","behaviors","dialog","prepareDialogButtons","$dialog","buttons","$buttons","find","each","$originalButton","this","css","width","height","padding","border","push","text","html","attr","class","click","e","trigger","preventDefault","window","on","$element","settings","data","ignore","jQuery","iScroll","Parallax","self","init","isMobileWebkit","checkMobileWebkit","addIScroll","addClass","setStellarRatio","setAverageStellarRatio","initParallax","overrideStellar","once","handleScrollEvent","target","nodeName","toUpperCase","match","$this","scrollHeight","vScroll","hScroll","onBeforeScrollStart","handleClick","hsh","location","hash","bounce","setTimeout","scrollToElement","Stellar","parentRefresh","prototype","refresh","options","call","parentReposition","_repositionElements","_findParticles","isArray","particles","i","length","parallaxElements","horizontalOffset","verticalOffset","positionLeft","positionTop","marginLeft","marginTop","$offsetParent","offsetLeft","offsetTop","parentOffsetLeft","parentOffsetTop","tempParentOffsetLeft","tempParentOffsetTop","showElement","position","left","top","parseInt","offset","parents","undefined","isFixed","startingPositionLeft","startingPositionTop","startingOffsetLeft","startingOffsetTop","stellarRatio","outerWidth","outerHeight","isHidden","stellar","scrollProperty","positionProperty","responsive","verticalScrolling","hideDistantElements","not","elWidth","fullWidth","windowWidth","ratio","$stellars","stellarCount","ua","navigator","userAgent","test","lastCallParallax","attach","context","fn","scrollControl","defaults","paneSelector","sc","extend","panes","windowPos","preventFocusSet","processed","focused","$focusedElement","getPanes","selector","getOffsets","el","$el","center","Math","round","right","bottom","oldWindowCenter","oldWindowMiddle","middle","oldWindowTop","newPosition","getWindowPosition","newWindowCenter","newWindowMiddle","newWindowTop","count","elCenter","elTop","elBottom","_windowTrigger","getWindowDimensions","$window","wWidth","scrollLeft","scrollTop","wHeight","positions","isScrolledIntoView","elem","$elem","elemTop","elemBottom","elemLeft","elemRight","updateMQStatus","matchMedia","matches","thing","arguments","dataElement","scrollRoadTracks","$scrollLocker","preventScrollThrough","lastDelta","lockReleased","setLastDelta","delta","deltaFactor","controlledScroll","scrollDistance","scrollLockerAtEnd","topOffset","deltaControl","scrollOffset","scrollRegionTop","innerHeight","movingForward","hasClass","releaseLock","getScrollDistance","deltax","deltay","scrollDelta","abs","element","lastScrollDelta","windowCenter","filter","Animation","conf","baseClass","finish","start","stepClass","steps","setSprite","document","timeline","duration","step","setAnimationStep","stepInt","stepOrder","removeClass","hiding","toggleClass","lastcallAnimations","animations","redraw","map","item","Modernizr","lastcallFrontpage","repositionIndicator","newItem","animate","$link","parent","$linkChild","stop","id","children","$idcr","append","linkId","$listItem","title","apply","hover","currentPaneId","$targetPane","direction","opposite","mqAxis","scrollSpeed","scrollOptions","axis","onAfter","scr","scrollTo","off","slotLinkStyle","wrap","add","$a","fancySelects","$dropdown","easyDropDown","pagerManipulate","viewsExposedFormSelectAsTab","hide","select_list","ul","option","li","active","val","closest","portfolioSlideshow","$screenshots","$coverImage","opts","API","customGetImageSrc","slideOpts","slideEl","prepend","cycle","log","fx","touch","speed","slides","pagerTemplate","delay","swipe","maxZ","pagerEvent","after","responsiveMenu","already_focused","end","lcmOverridePrototypes","AjaxCommands","viewsScrollTop","ajax","response","chromeTelLinks","telEnhance","stickyPager","handleFixedPager","$pager","$viewContent","siblings","viewBottom","headerHeight","scrollBelow","pagerTop","pagerAbove","$pagerList","unfixPager","joinUsLink","cookie","href","number","replace","lcmAnimations","focus"],"mappings":"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","file":"script.js","sourcesContent":["(function ($, Drupal) {\n  'use strict';\n\n  /*\n   * Override the core Drupal.behaviors.dialog.prepareDialogButtons\n   * to additionally detect our next and previous buttons.\n   */\n  Drupal.behaviors.dialog.prepareDialogButtons = function ($dialog) {\n    var buttons = [];\n    var $buttons = $dialog.find('.form-actions input[type=submit], a.dialog-button');\n\n    $buttons.each(function () {\n      // Hidden form buttons need special attention. For browser consistency,\n      // the button needs to be \"visible\" in order to have the enter key fire\n      // the form submit event. So instead of a simple \"hide\" or\n      // \"display: none\", we set its dimensions to zero.\n      // See http://mattsnider.com/how-forms-submit-when-pressing-enter/\n      var $originalButton = $(this).css({\n        width: 0,\n        height: 0,\n        padding: 0,\n        border: 0\n      });\n      buttons.push({\n        text: $originalButton.html() || $originalButton.attr('value'),\n        class: $originalButton.attr('class'),\n        click: function (e) {\n          $originalButton.trigger('mousedown').trigger('click').trigger('mouseup');\n          e.preventDefault();\n        }\n      });\n    });\n    return buttons;\n  };\n\n  $(window).on('dialog:beforecreate', function (e, dialog, $element, settings) {\n    // Prevent scroll from being hijacked after a dialog has been created.\n    $(window).data('scrollroadTracks').ignore = true;\n  });\n\n  // Reenable scroll hijacking once a dialog has been closed.\n  $(window).on('dialogclose', function (e, dialog, $element, settings) {\n    $(window).data('scrollroadTracks').ignore = false;\n  });\n\n})(jQuery, Drupal);\n","/* eslint-disable no-undefined, no-nested-ternary */\n(function ($, iScroll) {\n  'use strict';\n\n  var Parallax = {\n    self: this,\n\n    // Load\n    init: function () {\n      var isMobileWebkit = this.checkMobileWebkit();\n      if (isMobileWebkit && $(window).width() > 740) {\n        this.addIScroll();\n        $('#bg-background, #bg-foreground, #bg-tracks, #bg-train').css('position', 'absolute');\n      }\n      else {\n        $('main').addClass('no-iscroll');\n      }\n      this.setStellarRatio();\n      this.setAverageStellarRatio();\n      this.initParallax();\n      this.overrideStellar();\n    },\n\n    // Add iScroll functionality to elements that require it.\n    addIScroll: function () {\n      // Set explicit heights for regions inside of panes. They need to be\n      // taller than their parent .pane\n      $('main').once('iscroll').each(function () {\n        $('.pane').find('.region').each(\n          function () {\n            var $this = $(this);\n            $this.height($this[0].scrollHeight).css('minHeight', '100%');\n          }\n        );\n\n        function handleScrollEvent(e) {\n          if (!e.target.nodeName.toUpperCase().match(/^(INPUT|TEXTAREA|BUTTON|SELECT|X-WIDGET)/)) {\n            e.preventDefault();\n          }\n        }\n\n        // Each scrollable div needs it's own iScroller...\n        new iScroll('pane-work', {vScroll: true, hScroll: false, onBeforeScrollStart: handleScrollEvent, handleClick: false});\n        new iScroll('pane-about', {vScroll: true, hScroll: false, onBeforeScrollStart: handleScrollEvent, handleClick: false});\n        new iScroll('pane-blog', {vScroll: true, hScroll: false, onBeforeScrollStart: handleScrollEvent, handleClick: false});\n        new iScroll('pane-contact', {vScroll: true, hScroll: false, onBeforeScrollStart: handleScrollEvent, handleClick: false});\n\n        // If we start the window scrolled to anywhere but home, everything\n        // explodes.  Fix by unsetting the hash and then resetting it after\n        // iScroll has initialized.\n        var hsh = location.hash;\n        location.hash = '';\n        Drupal.iScroll = new iScroll('scroll-wrapper', {onBeforeScrollStart: handleScrollEvent, bounce: false});\n\n        if (hsh) {\n          setTimeout(function () {\n            location.hash = hsh;\n            Drupal.iScroll.scrollToElement(hsh, 0);\n          }, 50);\n        }\n\n      });\n    },\n\n    // Make modifications to stellar.\n    overrideStellar: function () {\n      if (window.Stellar !== 'undefined') {\n        var self = this;\n\n        // Update stellar ratios before running refresh.\n        var parentRefresh = window.Stellar.prototype.refresh;\n        window.Stellar.prototype.refresh = function (options) {\n          self.setStellarRatio();\n          self.setAverageStellarRatio();\n          parentRefresh.call(this, options);\n        };\n\n        // Do some train magic if we are using mobile webkit whenever elements\n        // are repositioned.\n        var parentReposition = window.Stellar.prototype._repositionElements;\n        window.Stellar.prototype._repositionElements = function () {\n          parentReposition.call(this);\n        };\n\n        // Look for data-use-stellar instead of data-stellar-ratio, since\n        // that changes on stellar refresh.\n        window.Stellar.prototype._findParticles = function () {\n          var self = this;\n\n          if ($.isArray(this.particles)) {\n            for (var i = this.particles.length - 1; i >= 0; i--) {\n              this.particles[i].$element.data('stellar-elementIsActive', false);\n            }\n          }\n\n          this.particles = [];\n\n          if (!this.options.parallaxElements) { return; }\n\n          this.$element.find('[data-use-stellar]').each(function (i) {\n            var $this = $(this);\n            var horizontalOffset;\n            var verticalOffset;\n            var positionLeft;\n            var positionTop;\n            var marginLeft;\n            var marginTop;\n            var $offsetParent;\n            var offsetLeft;\n            var offsetTop;\n            var parentOffsetLeft = 0;\n            var parentOffsetTop = 0;\n            var tempParentOffsetLeft = 0;\n            var tempParentOffsetTop = 0;\n\n            // Ensure this element isn't already part of another scrolling element\n            if (!$this.data('stellar-elementIsActive')) {\n              $this.data('stellar-elementIsActive', this);\n            }\n            else if ($this.data('stellar-elementIsActive') !== this) {\n              return;\n            }\n\n            self.options.showElement($this);\n\n            // Save/restore the original top and left CSS values in case we refresh the particles or destroy the instance\n            if (!$this.data('stellar-startingLeft')) {\n              $this.data('stellar-startingLeft', $this.css('left'));\n              $this.data('stellar-startingTop', $this.css('top'));\n            }\n            else {\n              $this.css('left', $this.data('stellar-startingLeft'));\n              $this.css('top', $this.data('stellar-startingTop'));\n            }\n\n            positionLeft = $this.position().left;\n            positionTop = $this.position().top;\n\n            // Catch-all for margin top/left properties (these evaluate to 'auto' in IE7 and IE8)\n            marginLeft = ($this.css('margin-left') === 'auto') ? 0 : parseInt($this.css('margin-left'), 10);\n            marginTop = ($this.css('margin-top') === 'auto') ? 0 : parseInt($this.css('margin-top'), 10);\n\n            offsetLeft = $this.offset().left - marginLeft;\n            offsetTop = $this.offset().top - marginTop;\n\n            // Calculate the offset parent\n            $this.parents().each(function () {\n              var $this = $(this);\n\n              if ($this.data('stellar-offset-parent') === true) {\n                parentOffsetLeft = tempParentOffsetLeft;\n                parentOffsetTop = tempParentOffsetTop;\n                $offsetParent = $this;\n\n                return false;\n              }\n              else {\n                tempParentOffsetLeft += $this.position().left;\n                tempParentOffsetTop += $this.position().top;\n              }\n            });\n\n            // Detect the offsets\n            horizontalOffset = ($this.data('stellar-horizontal-offset') !== undefined ? $this.data('stellar-horizontal-offset') : ($offsetParent !== undefined && $offsetParent.data('stellar-horizontal-offset') !== undefined ? $offsetParent.data('stellar-horizontal-offset') : self.horizontalOffset));\n            verticalOffset = ($this.data('stellar-vertical-offset') !== undefined ? $this.data('stellar-vertical-offset') : ($offsetParent !== undefined && $offsetParent.data('stellar-vertical-offset') !== undefined ? $offsetParent.data('stellar-vertical-offset') : self.verticalOffset));\n\n            // Add our object to the particles collection\n            self.particles.push({\n              $element: $this,\n              $offsetParent: $offsetParent,\n              isFixed: $this.css('position') === 'fixed',\n              horizontalOffset: horizontalOffset,\n              verticalOffset: verticalOffset,\n              startingPositionLeft: positionLeft,\n              startingPositionTop: positionTop,\n              startingOffsetLeft: offsetLeft,\n              startingOffsetTop: offsetTop,\n              parentOffsetLeft: parentOffsetLeft,\n              parentOffsetTop: parentOffsetTop,\n              stellarRatio: ($this.data('stellar-ratio') !== undefined ? $this.data('stellar-ratio') : 1),\n              width: $this.outerWidth(true),\n              height: $this.outerHeight(true),\n              isHidden: false\n            });\n          });\n        };\n      }\n    },\n\n    initParallax: function () {\n      if (this.checkMobileWebkit()) {\n        $('main').stellar({\n          scrollProperty: 'transform',\n          positionProperty: 'transform',\n          responsive: false,\n          verticalScrolling: false,\n          hideDistantElements: false\n        });\n      }\n      else {\n        $.stellar({\n          scrollProperty: 'scroll',\n          positionProperty: 'transform',\n          responsive: true,\n          verticalScrolling: false,\n          hideDistantElements: false\n        });\n      }\n    },\n\n    setStellarRatio: function () {\n      $('[data-use-stellar]').not('[data-avg-ratio-updates]').each(function () {\n        var elWidth = $(this).width();\n        var fullWidth = $('#bg-container').width();\n        var windowWidth = $(window).width();\n        var ratio = ($(this).data('stellar-ratio-fixed') !== undefined) ? $(this).data('stellar-ratio-fixed') : ((elWidth - windowWidth) / (fullWidth - windowWidth));\n        $(this).data('stellar-ratio', ratio);\n\n        // TODO: remove this.\n        $(this).attr('data-stellar-ratio', ratio);\n      });\n    },\n\n    // Set the stellar ratio for elements that should use the average of all\n    // of the other stellar enabled elements.\n    setAverageStellarRatio: function () {\n      var $stellars = $('[data-use-stellar]').not('[data-avg-ratio-updates], [data-stellar-ratio-fixed]');\n      var stellarCount = $stellars.length;\n      var ratio = 0;\n      var width = 0;\n\n      $stellars.each(function () {\n        var $this = $(this);\n        ratio += $this.data('stellar-ratio');\n        width += $this.width();\n      });\n\n      $('[data-use-stellar][data-avg-ratio-updates]')\n        .data('stellar-ratio', (ratio / stellarCount))\n        .width(width / stellarCount);\n    },\n\n    checkMobileWebkit: function () {\n      var ua = navigator.userAgent;\n      var isMobileWebkit = /WebKit/.test(ua) && /Mobile/.test(ua);\n      return isMobileWebkit;\n    }\n  };\n\n  Drupal.behaviors.lastCallParallax = {\n    attach: function (context) {\n      $('main').once('parallax').each(function () {\n        Parallax.init();\n      });\n    }\n  };\n})(jQuery, window.iScroll);\n","(function ($) {\n  'use strict';\n\n  $.fn.scrollControl = function (settings) {\n    var defaults = {\n      paneSelector: '.region'\n    };\n\n    // Scroll Controller.\n    var sc = {\n      options: $.extend({}, defaults, settings),\n      panes: [],\n      windowPos: {},\n      preventFocusSet: false,\n      processed: false,\n      focused: '',\n      $focusedElement: '',\n\n      init: function () {\n        this.getPanes(this.options.paneSelector);\n        $(window).data('scroll-control', this);\n        this.refresh();\n      },\n\n      getPanes: function (selector) {\n        var self = this;\n        $(selector).each(function () {\n          self.panes.push(this);\n          $(this).attr('data-sc-pane', true);\n        });\n      },\n\n      getOffsets: function (el) {\n        var $el = $(el);\n        var elWidth = $el.width();\n        var left = $el.offset().left;\n        var center = Math.round(left + (elWidth / 2));\n        var right = left + elWidth;\n        var top = $el.offset().top;\n        var bottom = top + $el.height();\n\n        $el.data('offset-left', left).data('offset-center', center).data('offset-right', right).data('offset-top', top).data('offset-bottom', bottom);\n        return el;\n      },\n\n      refresh: function () {\n        var self = this;\n\n        // These will be used for determining focus later.\n        var oldWindowCenter = this.windowPos.center;\n        var oldWindowMiddle = this.windowPos.middle;\n        var oldWindowTop = this.windowPos.top;\n        var newPosition = this.getWindowPosition();\n        var newWindowCenter = newPosition.center;\n        var newWindowMiddle = newPosition.middle;\n        var newWindowTop = newPosition.top;\n        var count = 0;\n\n        $(this.panes).each(function () {\n          var $el = $(self.getOffsets(this));\n          var elCenter = $el.data('offset-center');\n          var elTop = $el.data('offset-top');\n          var elBottom = $el.data('offset-bottom');\n\n          if ($(window).data('scroll-control-desktop') === true) {\n            if (((oldWindowCenter < elCenter && (newWindowCenter) >= elCenter)\n              || (oldWindowCenter > elCenter && (newWindowCenter) <= elCenter)\n              )) {\n              if (!self.preventFocusSet && self.processed) {\n                self._windowTrigger('scrollcontrol.focusSet', [this]);\n              }\n            }\n          }\n\n          else {\n            if (((oldWindowMiddle >= elBottom) && (newWindowMiddle <= elBottom))\n              || ((oldWindowMiddle <= elTop) && (newWindowMiddle >= elTop))) {\n              self._windowTrigger('scrollcontrol.focusSet', [this]);\n            }\n            // When the user scrolls to the top of the page, use the first pane.\n            else if (newWindowTop <= 0) {\n              self._windowTrigger('scrollcontrol.focusSet', [self.panes[0]]);\n            }\n            // If the second pane scrolls into view then switch to it.\n            // This condition is only required when the first pane makes up\n            // less than half of the screen height.\n            else if ((oldWindowTop <= elBottom) && (newWindowTop >= elBottom) && count === 0) {\n              self._windowTrigger('scrollcontrol.focusSet', [self.panes[1]]);\n            }\n          }\n          count++;\n          if (!self.processed) {\n            self.processed = true;\n          }\n        });\n      },\n\n      // Update window dimensions.\n      getWindowDimensions: function () {\n        var $window = $(window);\n        $.extend(this.windowPos, {\n          width: $window.width(),\n          height: $window.height()\n        });\n      },\n\n      // Update window positions so we can avoid.\n      getWindowPosition: function () {\n        if (!this.windowPos.height) {\n          this.getWindowDimensions();\n        }\n\n        var $window = $(window);\n        var wWidth = this.windowPos.width;\n        var scrollLeft = $window.scrollLeft();\n        var top = $window.scrollTop();\n        var wHeight = this.windowPos.height;\n        var positions = {\n          left: scrollLeft,\n          right: scrollLeft + wWidth,\n          center: Math.round(scrollLeft + (wWidth / 2)),\n          top: top,\n          bottom: top + wHeight,\n          middle: Math.round(top + (wHeight / 2))\n        };\n        $.extend(this.windowPos, positions);\n        return positions;\n      },\n\n      // Check whether or not a div is visible on the screen.\n      isScrolledIntoView: function (elem) {\n        var $elem = $(elem);\n        var elemTop = $elem.data('offset-top');\n        var elemBottom = elemTop + $elem.height();\n        var elemLeft = $elem.data('offset-left');\n        var elemRight = $elem.data('offset-right');\n\n        return !((this.windowPos.left >= elemLeft) && (this.windowPos.left >= elemRight))\n          && !((this.windowPos.right <= elemLeft) && (this.windowPos.right <= elemRight))\n          && !((this.windowPos.top >= elemTop) && (this.windowPos.top >= elemBottom))\n          && !((this.windowPos.bottom <= elemTop) && (this.windowPos.bottom <= elemBottom));\n      },\n\n      updateMQStatus: function () {\n        if (window.matchMedia('all and (min-width: 721px)').matches) {\n          $(window).data('scroll-control-desktop', true);\n        }\n        else {\n          $(window).data('scroll-control-desktop', false);\n        }\n      },\n\n      // Only trigger events if we aren't preventing it.\n      _windowTrigger: function (trigger, thing) {\n        if (arguments.length === 1) {\n          $(window).trigger(trigger);\n        }\n        else if (arguments.length === 2) {\n          $(window).trigger(trigger, thing);\n        }\n      }\n    };\n\n    sc.init();\n\n    $(window).on('scroll', function (e) {\n      sc.refresh();\n    });\n\n    $(window).on('resize', function () {\n      sc.getWindowDimensions();\n    });\n\n    $(window).on('scrollcontrol.focusSet', function (e, elem) {\n      var dataElement = $(elem).data('sc-element');\n\n      // Update scrollcontrol properties.\n      sc.focused = dataElement;\n      sc.$focusedElement = $(elem);\n    });\n\n    $(window).on('resize.scrollControl', function () {\n      sc.updateMQStatus();\n      $('.pane').each(function () {\n        var $this = $(this);\n        $this.data('centerscroll', Math.round($this.offset().left + ($this.width() / 2)));\n      });\n    }).trigger('resize.scrollControl');\n  };\n}(jQuery));\n","(function ($) {\n  'use strict';\n\n  // Get it?? It's like scrolling railroad tracks...\n  // not that funny.\n  $.fn.scrollRoadTracks = function () {\n    var sc = {\n      $scrollLocker: false,\n      preventScrollThrough: false,\n      ignore: false,\n      lastDelta: 0,\n      lockReleased: false,\n      scrollControl: $(window).data('scroll-control'),\n\n      // Setter method for lastDelta property.\n      setLastDelta: function (delta, deltaFactor) {\n        this.lastDelta = delta;\n        return this.lastDelta;\n      },\n\n      // If focus is set on a region, then force the scroll event to happen\n      // in the locked region, otherwise hijack the site's horizontal scrolling.\n      controlledScroll: function (scrollDistance) {\n        this.setLastDelta(scrollDistance);\n\n        if (this.$scrollLocker !== false) {\n          if (!this.scrollLockerAtEnd(scrollDistance)) {\n            this.lockReleased = false;\n            var topOffset = this.$scrollLocker.scrollTop();\n            // slow the locked scroll down a bit so it's more clear what\n            // is going on.\n            this.$scrollLocker.scrollTop(Math.round(topOffset - (scrollDistance / 4)));\n          }\n          else if (this.lockReleased) {\n            this.$scrollLocker = false;\n          }\n          // Prevent scrolling straight through pane when we get to the end.\n          // This forces the user to scroll again once they get to the bottom\n          // of the pane to move the page forward.\n          else {\n            this.preventScrollThrough = true;\n          }\n        }\n        else {\n          $(window).scrollLeft($(window).scrollLeft() - scrollDistance);\n        }\n      },\n\n      // Check if we've scrolled to the top or bottom of\n      // the scrollLocker element.\n      scrollLockerAtEnd: function (deltaControl, scrollOffset) {\n        if (!this.$scrollLocker) {\n          return;\n        }\n\n        var scrollRegionTop = this.$scrollLocker.scrollTop();\n        var innerHeight = this.$scrollLocker.innerHeight();\n        var scrollHeight = this.$scrollLocker[0].scrollHeight;\n\n        if (innerHeight >= scrollHeight) { return true;}\n\n        if (this.movingForward(deltaControl)) {\n          // There's an off-by-one error possibly caused by `scrollHeight`\n          // in Chrome but to find out exactly what's going on would require\n          // a trip down the rabbit hole.  So, we just adjust things by 1 for\n          // Chrome and let it be.\n          return !(scrollRegionTop + innerHeight < scrollHeight - 1) &&\n            // Never notify that we're at the end of the last pane:\n            !this.$scrollLocker.hasClass('region-contact');\n        }\n        else {\n          return scrollRegionTop <= 0;\n        }\n      },\n      releaseLock: function () {\n        this.preventScrollThrough = false;\n        this.lockReleased = true;\n      },\n\n      // Check if we should limit the delta to prevent overscrolling of the\n      // when focusing on panes.\n      getScrollDistance: function (deltaFactor, deltax, deltay) {\n        var scrollDelta = (Math.abs(deltax) > Math.abs(deltay)) ? -deltax : deltay;\n        return deltaFactor * scrollDelta;\n      },\n\n      // Check whether the deltas indicate that the scroll is moving forward.\n      movingForward: function (delta) {\n        return delta <= 0;\n      }\n    };\n\n    // Add scrollroadtracks object to the window.\n    $(window).data('scrollroadTracks', sc);\n\n    // Update the scrollLocker when a new region gets focused.\n    $(window).on('scrollcontrol.focusSet', function (e, element) {\n      sc.$scrollLocker = $(element);\n    });\n\n    var lastScrollDelta = 0;\n    $(window).on('mousewheel', function (e, delta, deltax, deltay) {\n      // Only hijack the scroll when the window\n      // is greater than our mobile layout width.\n      // This data attr is set by scrollControl.\n      if ($(this).data('scroll-control-desktop') !== true || sc.ignore === true) {return;}\n\n      e.preventDefault();\n      var scrollDistance = sc.getScrollDistance(e.deltaFactor, deltax, deltay);\n\n      var $window = $(window);\n      var windowCenter = Math.round($window.scrollLeft() + ($window.width() / 2));\n      $('.pane').filter(function () {\n        return scrollDistance < 0 ?\n          $(this).data('centerscroll') > windowCenter :\n          $(this).data('centerscroll') < windowCenter;\n      }).each(function () {\n        if (scrollDistance < 0) {\n          if (windowCenter - scrollDistance > $(this).data('centerscroll') && !sc.$scrollLocker) {\n            scrollDistance = windowCenter - $(this).data('centerscroll');\n          }\n        }\n        else {\n          if (windowCenter - scrollDistance < $(this).data('centerscroll')) {\n            scrollDistance = windowCenter - $(this).data('centerscroll');\n          }\n        }\n      });\n\n      if (sc.preventScrollThrough === true) {\n        if ((Math.abs(scrollDistance) > Math.abs(lastScrollDelta))) {\n          sc.releaseLock();\n        }\n      }\n\n      if ((sc.preventScrollThrough !== true)) {\n        sc.controlledScroll(scrollDistance);\n      }\n      lastScrollDelta = scrollDistance;\n    });\n    return this;\n  };\n\n})(jQuery);\n","(function ($) {\n  'use strict';\n  function Animation(conf) {\n    this.$el = conf.$el;\n    this.baseClass = conf.$el.data('animation-class');\n    this.finish = conf.finish;\n    this.start = conf.start;\n    this.stepClass = '';\n    this.steps = conf.$el.data('animation-steps');\n  }\n\n  Animation.prototype.setSprite = function () {\n    var start = this.start;\n    var finish = this.finish;\n    var position = ($(document).scrollLeft() / Animation.timeline) * 100;\n\n    if ((start <= position) && (position <= finish)) {\n      var offset = position - start;\n      var duration = finish - start;\n      var step = Math.round((offset / duration) * this.steps);\n\n      // Make sure we start on frame 1.\n      step += (step < 1) ? 1 : 0;\n\n      this.setAnimationStep(step);\n    }\n    else {\n      this.setAnimationStep(0);\n    }\n  };\n\n  Animation.prototype.setAnimationStep = function (step) {\n    var stepInt = parseInt(step, 10);\n    var stepOrder = stepInt > 9 ? stepInt : '0' + stepInt;\n\n    this.$el.removeClass(this.stepClass);\n    this.stepClass = this.baseClass + stepOrder;\n    this.$el.addClass(this.stepClass);\n\n    var hiding = (stepOrder < 1 || this.steps < stepOrder);\n    this.$el.toggleClass('animation-hidden', hiding);\n  };\n\n  Drupal.behaviors.lastcallAnimations = {\n    attach: function () {\n      // `start` and `finish` are percentages.\n      var animations = [\n        new Animation({\n          $el: $('#allaboard-animation'),\n          start: 0,\n          finish: 9.5\n        }),\n        new Animation({\n          $el: $('#bird-animation'),\n          start: 2.6,\n          finish: 25\n        }),\n        new Animation({\n          $el: $('#dog-animation'),\n          start: 18,\n          finish: 28.7\n        }),\n        new Animation({\n          $el: $('#surfing-animation'),\n          start: 31.43,\n          finish: 69.98\n        }),\n        new Animation({\n          $el: $('#jump-animation'),\n          start: 38.09,\n          finish: 60.5\n        }),\n        new Animation({\n          $el: $('#wave-animation'),\n          start: 68.6,\n          finish: 91.8\n        }),\n        new Animation({\n          $el: $('#robot-animation'),\n          start: 90.29,\n          finish: 100\n        })\n      ];\n\n      var redraw = function (e) {\n        Animation.timeline = $(document).width() - $(window).width();\n        animations.map(function (item) {\n          item.setSprite();\n        });\n      };\n\n      // Make sure animations initially appear correctly.\n      redraw();\n\n      $(document).on('scroll', redraw);\n    }\n  };\n})(jQuery);\n","(function ($, Modernizr) {\n  'use strict';\n\n  Drupal.behaviors.lastcallFrontpage = {\n    attach: function (context, settings) {\n      // Only do all of this stuff on the homepage.\n      if (!$('body.path-frontpage').length) {\n        return;\n      }\n\n      // Add scrollcontrol data attributes to each region.\n      var id;\n      $('.pane').each(function () {\n        id = $(this).attr('id');\n        if (id && (id.length > 0)) {\n          $(this).children('.region:first-child').data('sc-element', id);\n        }\n      });\n\n      $('html').once('scroll-control').each(function () {\n        $(window).scrollControl();\n        $(window).scrollRoadTracks();\n      });\n\n      // Create the active indicator and add it to the page header:\n      if (!$('#active-indicator').length) {\n        var $idcr = $('<span id=\"active-indicator\"></span>');\n        $('#page-header').append($idcr);\n      }\n\n      // Perform our operations that take place when scrollcontrol focus changes.\n      $(window, context).on('scrollcontrol.focusSet', function (e, element) {\n        var $idcr = $('#active-indicator');\n        var linkId = $(element).parent().attr('id');\n        var $listItem = $('header ul.desktop-menu li a[href=\"#' + linkId + '\"]').parent();\n        var title = $('header ul.mobile-menu li a[href=\"#' + linkId + '\"]').parent().text();\n        // Add html class on focus change.\n        if (title === 'Home') {\n          title = '';\n        }\n        // Set the page title with the text from the link.\n        $('#title').text(title);\n\n        // Move the active indicator on scrollcontrol focus change.\n        $idcr.data('active-item', $listItem);\n        repositionIndicator.apply($idcr, [$listItem, true]);\n      });\n\n      // Move the indicator on hover in:\n      $('#page-header .menu a', context).hover(function () {\n        var $idcr = $('#active-indicator');\n        var parent = $(this).parent();\n        repositionIndicator.apply($idcr, [parent, true]);\n        // Move the indicator back on hover out:\n      }, function () {\n        var $idcr = $('#active-indicator');\n        repositionIndicator.apply($idcr, [$idcr.data('active-item'), true]);\n      });\n\n      $('a.scroll', context).on('click', function (e) {\n        e.preventDefault();\n\n        var $this = $(this);\n        var $scrollLocker = $(window).data('scrollroadTracks').$scrollLocker;\n        var currentPaneId = ($scrollLocker) ? $scrollLocker.parent().attr('id') : 'none';\n        var $targetPane = $($this.attr('href'));\n\n        // Don't move if the clicked link is for the pane the user\n        // is currently viewing.\n        if (currentPaneId === $targetPane.attr('id')) {\n          return;\n        }\n\n        var direction;\n        var opposite;\n        if ($targetPane.offset().left < $(window).scrollLeft()) {\n          direction = 'forward';\n          opposite = 'behind';\n        }\n        else {\n          direction = 'behind';\n          opposite = 'forward';\n        }\n\n        $('#bg-train').addClass('train-dislodged-' + direction).removeClass('train-dislodged-' + opposite);\n\n        // iScroll object is defined in parallax.js for mobile webkit browsers.\n        if (Drupal.iScroll) {\n          Drupal.iScroll.scrollToElement($this.attr('href'), 2500);\n        }\n        else {\n          var mqAxis = window.matchMedia('all and (min-width: 721px)').matches ? 'x' : 'y';\n          var sc = $(window).data('scroll-control');\n          var scrollSpeed = 2500;\n          var scrollOptions = {\n            axis: mqAxis,\n            onAfter: function ($el) {\n              var scr = $(window).data('scrollroadTracks');\n              scr.$scrollLocker = $($el.find('.region'));\n              sc.preventFocusSet = false;\n              $('#bg-train')\n                .removeClass('train-dislodged-' + direction)\n                .addClass('train-dislodged-' + opposite)\n                .removeClass('train-dislodged-' + direction);\n            }\n          };\n          if (mqAxis === 'y') {\n            scrollSpeed = 1000;\n          }\n\n          sc._windowTrigger('scrollcontrol.focusSet', $($($this.attr('href')).find('.region')));\n          sc.preventFocusSet = true;\n\n          $(window).scrollTo($this.attr('href'), scrollSpeed, scrollOptions);\n        }\n      });\n\n      // Readjust on window resize.\n      // We unbind first to make sure we don't double bind:\n      $(window).off('resize.lastcall.activeIndicator').on('resize.lastcall.activeIndicator', function (e) {\n        $('#active-indicator').each(function () {\n          var item = $(this).data('active-item');\n          if (item) {\n            repositionIndicator.apply(this, [item, false]);\n          }\n        });\n      });\n\n      // Primary function for moving the indicator:\n      function repositionIndicator(newItem, animate) {\n        var $link = $(newItem).find('a').parent();\n        var $linkChild = $(newItem).find('a');\n        if ($link.length) {\n          var css = {};\n          // Shrink the indicator when it is behind the home bubble\n          // so that it doesn't show.\n          if ($linkChild.attr('href') !== '#pane-home') {\n            css.width = $link.width();\n            css.left = $link.position().left + parseInt($link.css('padding-left'), 10);\n            $('.scroll.scroll-active').removeClass('scroll-active');\n            $linkChild.addClass('scroll-active');\n          }\n          else {\n            $('.scroll.scroll-active').removeClass('scroll-active');\n            css.width = 35;\n            css.left = $link.position().left + parseInt($link.css('padding-left'), 10) + 50;\n          }\n\n          $(this).stop(true, false);\n          if (animate) {\n            $(this).animate(css);\n          }\n          else {\n            $(this).css(css);\n          }\n        }\n      }\n    }\n  };\n\n  Drupal.behaviors.slotLinkStyle = {\n    attach: function (context, settings) {\n      // Allow the \"see more\" links under the blog thumbnails\n      // and the \"view site\" links within portfolio popups\n      // and the pager arrows in the portfolio to be styled\n      // in a \"slot machine\" type of way.\n      $('.more-link', context)\n        .wrap($('<div>', {class: 'slot-links-container'}))\n        .add('.field--name-field-site-url', context)\n        .each(function () {\n          var $a = $(this).find('a');\n          var text = $a.text();\n          $a.text(null);\n          $a.append($('<span>', {class: 'slot-link--normal', text: text}));\n          $a.append($('<span>', {class: 'slot-link--hover', text: text}));\n        });\n    }\n  };\n\n  Drupal.behaviors.fancySelects = {\n    attach: function (context) {\n      var $dropdown = $('#ajax-contact-form-wrapper select', context);\n      $dropdown.find('option:first-child').addClass('label');\n      $dropdown.easyDropDown();\n    }\n  };\n\n  Drupal.behaviors.pagerManipulate = {\n    attach: function (context) {\n      // If there is a previous page, hide the \"last\" arrow.\n      if ($('.pager__item--previous a[href]', context).length) {\n        $('.pager__item--last', context).css('display', 'none');\n      }\n      // If there is a next page, hide the 'first' arrow.\n      if ($('.pager__item--next a', context).length) {\n        $('.pager__item--first', context).css('display', 'none');\n      }\n    }\n  };\n\n\n\n  Drupal.behaviors.viewsExposedFormSelectAsTab = {\n    attach: function (context, settings) {\n      $('.select-as-tabs', context).hide().each(function () {\n        var select_list = $(this);\n        var ul = $('<ul />').addClass('views-exposed-filter-tabs-processed');\n        select_list.find('option').each(function (i) {\n          var option = $(this);\n          var li = $('<li />');\n          var active = $(this).attr('selected') != null ? ' active' : '';\n          li.addClass('tab tab-' + i + active).html(option.html()).click(function () {\n            select_list.val(option.val()); // use val() for Safari compatibility.\n            select_list.closest('form').find('input[type=submit]').click();\n          });\n          ul.append(li);\n        }).parents('.form--inline').append(ul);\n      });\n    }\n  };\n\n  Drupal.behaviors.portfolioSlideshow = {\n    attach: function (context, settings) {\n      var $screenshots = $('.node--view-mode-full .field--name-field-site-screenshots', context);\n      var $coverImage = $('.node--view-mode-full .field--name-field-cover-image', context);\n      if ($screenshots.length || $coverImage.length) {\n        $screenshots.on('cycle-bootstrap', function (e, opts, API) {\n          API.customGetImageSrc = function (slideOpts, opts, slideEl) {\n            return $(slideEl).find('img').attr('src');\n          };\n        });\n        // Stick the cover image in at the beginning:\n        $screenshots.prepend($coverImage);\n        $screenshots.append('<div class=\"cycle-pager\"></div>');\n        $screenshots.cycle({\n          log: false,\n          fx: Modernizr.touch ? 'scrollHorz' : 'fade',\n          speed: 600,\n          slides: '>.field__item',\n          pagerTemplate: '<img src=\"{{API.customGetImageSrc}}\" width=135 height=100>',\n          delay: 1000,\n          swipe: true,\n          maxZ: 9,\n          pagerEvent: 'mouseover'\n        });\n        $screenshots.after('<div class=\"swipe-indicator\"><i class=\"icon-left\"></i>Swipe<i class=\"icon-right\"></i></div>');\n      }\n\n    }\n  };\n\n  Drupal.behaviors.responsiveMenu = {\n    attach: function (context, settings) {\n\n      var already_focused = false;\n\n      $('#navigation', context)\n        .find('.menu-title')\n        .on('click', function (e) {\n          e.preventDefault();\n          if (already_focused) {\n            $(this).toggleClass('show-menu');\n          }\n          else {\n            $(this).addClass('show-menu');\n            already_focused = true;\n          }\n        })\n        .on('focus', function (e) {\n          if (!already_focused) {\n            $(this).addClass('show-menu');\n            already_focused = false;\n          }\n        })\n      .end()\n      .find('.mobile-menu a')\n        .on('click', function () {\n          $('#navigation', context).find('.menu-title').removeClass('show-menu');\n        })\n        .on('focus', function () {\n          $('#navigation', context).find('.menu-title').addClass('show-menu');\n        });\n\n      $(document).on('click focus keyup', function (e) {\n        if (!$(e.target).parents('#navigation').length) {\n          $('#navigation', context).find('.menu-title').removeClass('show-menu');\n          already_focused = false;\n        }\n      });\n    }\n  };\n\n  Drupal.behaviors.lcmOverridePrototypes = {\n    attach: function () {\n      // Views scrolltop functionality doesn't work very well for our layout.\n      Drupal.AjaxCommands.prototype.viewsScrollTop = function (ajax, response) {\n         // do nothing.\n      };\n    }\n  };\n\n  Drupal.behaviors.chromeTelLinks = {\n    attach: function (context) {\n      if (navigator.userAgent.match(/(iPhone|iPod|iPad)/)) {\n        $('span.tel', context).telEnhance();\n      }\n    }\n  };\n\n  Drupal.behaviors.stickyPager = {\n    attach: function (context) {\n      // Determine if a fixed pager should be implemented or not.\n      function handleFixedPager() {\n        var $pager = sc.$focusedElement.find('div.item-list:visible');\n        var $viewContent = $pager.siblings('.view-content');\n\n        // If the pager goes above the fixed header, then add a class to it.\n        if ($pager.length > 0) {\n          var viewBottom = $(window).scrollTop() - ($viewContent.offset().top + $viewContent.height()) + headerHeight;\n          var scrollBelow = viewBottom > 0;\n          var pagerTop = $(window).scrollTop() - $pager.offset().top + headerHeight;\n          var pagerAbove = pagerTop > 0;\n          var $pagerList = $pager.find('ul');\n\n          // Add the fixed header if it goes above the fixe header.\n          if ((pagerAbove) && (!scrollBelow) && ($pager.data('fixed') !== true)) {\n            $pager.addClass('fixed-pager');\n            $pager.data('fixed', true);\n          }\n\n          // Remove fixed pager goes if it goes below the fixed header\n          else if (!pagerAbove && ($pager.data('fixed') === true)) {\n            unfixPager($pager, $pagerList);\n          }\n\n          // Remove fixed pager class if the view is above the fixed header.\n          else if ((scrollBelow) && ($pager.data('fixed') === true)) {\n            unfixPager($pager, $pagerList);\n          }\n        }\n      }\n\n      // Remove fixed pager functionality.\n      function unfixPager($pager, $pagerList) {\n        $pager.data('fixed', false);\n        $pagerList.animate({marginTop: '-40'}, 300, function () {\n          $pagerList.css('margin-top', '');\n          $pager.removeClass('fixed-pager');\n        });\n      }\n\n      var sc = $(window).data('scroll-control');\n      if (!sc) {\n        // We can't continue...\n        return;\n      }\n      var headerHeight = $('#page-header').height();\n\n      // Check if fixed pager should be applied on attach\n      if (sc.focused !== '') {\n        handleFixedPager();\n      }\n\n      $(window).on('scroll', function (e) {\n        if (!$(window).data('scroll-control-desktop')) {\n          handleFixedPager();\n        }\n      });\n    }\n  };\n\n  Drupal.behaviors.joinUsLink = {\n    attach: function (context, settings) {\n      $('#block-views-block-employees-staff-block .views-row:last', context).css('cursor', 'pointer').click(function () {\n        $.cookie('backPath', 'about');\n        window.location.href = 'careers';\n      });\n    }\n  };\n\n  $.fn.telEnhance = function (settings) {\n    $(this).each(function () {\n      var $el = $(this);\n      if ($el.find('a[href^=\"tel:\"]').length === 0) {\n        var number = $el.text().replace(/[()-]/g, '');\n        var $link = $('<a>' + $el.html() + '</a>')\n            .attr('href', 'tel://' + number);\n        $el.html($link);\n      }\n    });\n  };\n  Drupal.behaviors.lcmAnimations = {\n    attach: function (context, settings) {\n      // Since the robot animation gets in the way of the contact form send\n      // focus to the message textarea when it gets clicked on.\n      $('#robot-animation').on('click', function () {\n        $('#contact-message-feedback-form').find('textarea[name=\"message\"]').focus();\n      });\n    }\n  };\n})(jQuery, Modernizr);\n"],"sourceRoot":"/source/"}